
time="2025-07-26T02:55:48-03:00" level=warning msg="/home/rinha-user/rinha-de-backend-2025/participantes/luucaspole-crystal/docker-compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 consumer Pulling 
 app1 Pulling 
 app2 Pulling 
 32f112e3802c Already exists 
 d0cab1c7a515 Pulling fs layer 
 ceb7a214b4bf Pulling fs layer 
 19675ee30daa Pulling fs layer 
 56ba7dc9c07f Pulling fs layer 
 56ba7dc9c07f Waiting 
 32f112e3802c Already exists 
 d0cab1c7a515 Pulling fs layer 
 ceb7a214b4bf Pulling fs layer 
 19675ee30daa Pulling fs layer 
 0990340c1b7a Pulling fs layer 
 0990340c1b7a Waiting 
 32f112e3802c Already exists 
 d0cab1c7a515 Pulling fs layer 
 ceb7a214b4bf Pulling fs layer 
 19675ee30daa Pulling fs layer 
 56ba7dc9c07f Pulling fs layer 
 56ba7dc9c07f Waiting 
 19675ee30daa Downloading [>                                                  ]  5.476kB/468.3kB
 19675ee30daa Downloading [>                                                  ]  5.476kB/468.3kB
 19675ee30daa Downloading [>                                                  ]  5.476kB/468.3kB
 19675ee30daa Verifying Checksum 
 19675ee30daa Download complete 
 19675ee30daa Verifying Checksum 
 19675ee30daa Download complete 
 19675ee30daa Verifying Checksum 
 19675ee30daa Download complete 
 ceb7a214b4bf Downloading [>                                                  ]  163.8kB/16.09MB
 ceb7a214b4bf Downloading [>                                                  ]  163.8kB/16.09MB
 ceb7a214b4bf Downloading [>                                                  ]  163.8kB/16.09MB
 ceb7a214b4bf Downloading [==>                                                ]  655.4kB/16.09MB
 ceb7a214b4bf Downloading [==>                                                ]  655.4kB/16.09MB
 ceb7a214b4bf Downloading [==>                                                ]  655.4kB/16.09MB
 ceb7a214b4bf Downloading [=====>                                             ]  1.638MB/16.09MB
 ceb7a214b4bf Downloading [=====>                                             ]  1.638MB/16.09MB
 ceb7a214b4bf Downloading [=====>                                             ]  1.638MB/16.09MB
 ceb7a214b4bf Downloading [===========>                                       ]  3.621MB/16.09MB
 ceb7a214b4bf Downloading [===========>                                       ]  3.621MB/16.09MB
 ceb7a214b4bf Downloading [===========>                                       ]  3.621MB/16.09MB
 ceb7a214b4bf Downloading [===============>                                   ]  5.124MB/16.09MB
 ceb7a214b4bf Downloading [===============>                                   ]  5.124MB/16.09MB
 ceb7a214b4bf Downloading [===============>                                   ]  5.124MB/16.09MB
 ceb7a214b4bf Downloading [========================================>          ]  13.04MB/16.09MB
 ceb7a214b4bf Downloading [========================================>          ]  13.04MB/16.09MB
 ceb7a214b4bf Downloading [========================================>          ]  13.04MB/16.09MB
 d0cab1c7a515 Downloading [>                                                  ]  360.4kB/36.01MB
 d0cab1c7a515 Downloading [>                                                  ]  360.4kB/36.01MB
 d0cab1c7a515 Downloading [>                                                  ]  360.4kB/36.01MB
 ceb7a214b4bf Verifying Checksum 
 ceb7a214b4bf Download complete 
 ceb7a214b4bf Verifying Checksum 
 ceb7a214b4bf Download complete 
 ceb7a214b4bf Verifying Checksum 
 ceb7a214b4bf Download complete 
 d0cab1c7a515 Downloading [=>                                                 ]  1.081MB/36.01MB
 d0cab1c7a515 Downloading [=>                                                 ]  1.081MB/36.01MB
 d0cab1c7a515 Downloading [=>                                                 ]  1.081MB/36.01MB
 d0cab1c7a515 Downloading [===>                                               ]  2.523MB/36.01MB
 d0cab1c7a515 Downloading [===>                                               ]  2.523MB/36.01MB
 d0cab1c7a515 Downloading [===>                                               ]  2.523MB/36.01MB
 56ba7dc9c07f Downloading [>                                                  ]  20.48kB/2.043MB
 56ba7dc9c07f Downloading [>                                                  ]  20.48kB/2.043MB
 d0cab1c7a515 Downloading [=======>                                           ]  5.063MB/36.01MB
 d0cab1c7a515 Downloading [=======>                                           ]  5.063MB/36.01MB
 d0cab1c7a515 Downloading [=======>                                           ]  5.063MB/36.01MB
 56ba7dc9c07f Verifying Checksum 
 56ba7dc9c07f Download complete 
 56ba7dc9c07f Verifying Checksum 
 56ba7dc9c07f Download complete 
 d0cab1c7a515 Downloading [=============>                                     ]  9.765MB/36.01MB
 d0cab1c7a515 Downloading [=============>                                     ]  9.765MB/36.01MB
 d0cab1c7a515 Downloading [=============>                                     ]  9.765MB/36.01MB
 d0cab1c7a515 Downloading [=======================>                           ]  17.01MB/36.01MB
 d0cab1c7a515 Downloading [=======================>                           ]  17.01MB/36.01MB
 d0cab1c7a515 Downloading [=======================>                           ]  17.01MB/36.01MB
 d0cab1c7a515 Downloading [=====================================>             ]  26.76MB/36.01MB
 d0cab1c7a515 Downloading [=====================================>             ]  26.76MB/36.01MB
 d0cab1c7a515 Downloading [=====================================>             ]  26.76MB/36.01MB
 d0cab1c7a515 Downloading [================================================>  ]  34.72MB/36.01MB
 d0cab1c7a515 Downloading [================================================>  ]  34.72MB/36.01MB
 d0cab1c7a515 Downloading [================================================>  ]  34.72MB/36.01MB
 d0cab1c7a515 Verifying Checksum 
 d0cab1c7a515 Download complete 
 d0cab1c7a515 Verifying Checksum 
 d0cab1c7a515 Download complete 
 d0cab1c7a515 Download complete 
 d0cab1c7a515 Extracting [>                                                  ]  360.4kB/36.01MB
 d0cab1c7a515 Extracting [>                                                  ]  360.4kB/36.01MB
 d0cab1c7a515 Extracting [>                                                  ]  360.4kB/36.01MB
 d0cab1c7a515 Extracting [==============>                                    ]  10.09MB/36.01MB
 d0cab1c7a515 Extracting [==============>                                    ]  10.09MB/36.01MB
 d0cab1c7a515 Extracting [==============>                                    ]  10.09MB/36.01MB
 d0cab1c7a515 Extracting [============================>                      ]  20.55MB/36.01MB
 d0cab1c7a515 Extracting [============================>                      ]  20.55MB/36.01MB
 d0cab1c7a515 Extracting [============================>                      ]  20.55MB/36.01MB
 d0cab1c7a515 Extracting [===========================================>       ]  31.36MB/36.01MB
 d0cab1c7a515 Extracting [===========================================>       ]  31.36MB/36.01MB
 d0cab1c7a515 Extracting [===========================================>       ]  31.36MB/36.01MB
 d0cab1c7a515 Extracting [==================================================>]  36.01MB/36.01MB
 d0cab1c7a515 Extracting [==================================================>]  36.01MB/36.01MB
 d0cab1c7a515 Extracting [==================================================>]  36.01MB/36.01MB
 d0cab1c7a515 Pull complete 
 d0cab1c7a515 Pull complete 
 d0cab1c7a515 Pull complete 
 ceb7a214b4bf Extracting [>                                                  ]  163.8kB/16.09MB
 ceb7a214b4bf Extracting [>                                                  ]  163.8kB/16.09MB
 ceb7a214b4bf Extracting [>                                                  ]  163.8kB/16.09MB
 ceb7a214b4bf Extracting [===>                                               ]    983kB/16.09MB
 ceb7a214b4bf Extracting [===>                                               ]    983kB/16.09MB
 ceb7a214b4bf Extracting [===>                                               ]    983kB/16.09MB
 ceb7a214b4bf Extracting [=====>                                             ]  1.638MB/16.09MB
 ceb7a214b4bf Extracting [=====>                                             ]  1.638MB/16.09MB
 ceb7a214b4bf Extracting [=====>                                             ]  1.638MB/16.09MB
 ceb7a214b4bf Extracting [========>                                          ]  2.621MB/16.09MB
 ceb7a214b4bf Extracting [========>                                          ]  2.621MB/16.09MB
 ceb7a214b4bf Extracting [========>                                          ]  2.621MB/16.09MB
 ceb7a214b4bf Extracting [======================>                            ]  7.209MB/16.09MB
 ceb7a214b4bf Extracting [======================>                            ]  7.209MB/16.09MB
 ceb7a214b4bf Extracting [======================>                            ]  7.209MB/16.09MB
 0990340c1b7a Downloading [>                                                  ]  23.27kB/2.211MB
 0990340c1b7a Verifying Checksum 
 0990340c1b7a Download complete 
 ceb7a214b4bf Extracting [========================================>          ]  13.11MB/16.09MB
 ceb7a214b4bf Extracting [========================================>          ]  13.11MB/16.09MB
 ceb7a214b4bf Extracting [========================================>          ]  13.11MB/16.09MB
 ceb7a214b4bf Extracting [===============================================>   ]  15.24MB/16.09MB
 ceb7a214b4bf Extracting [===============================================>   ]  15.24MB/16.09MB
 ceb7a214b4bf Extracting [===============================================>   ]  15.24MB/16.09MB
 ceb7a214b4bf Extracting [==================================================>]  16.09MB/16.09MB
 ceb7a214b4bf Extracting [==================================================>]  16.09MB/16.09MB
 ceb7a214b4bf Extracting [==================================================>]  16.09MB/16.09MB
 ceb7a214b4bf Pull complete 
 ceb7a214b4bf Pull complete 
 ceb7a214b4bf Pull complete 
 19675ee30daa Extracting [===>                                               ]  32.77kB/468.3kB
 19675ee30daa Extracting [===>                                               ]  32.77kB/468.3kB
 19675ee30daa Extracting [===>                                               ]  32.77kB/468.3kB
 19675ee30daa Extracting [==================================================>]  468.3kB/468.3kB
 19675ee30daa Extracting [==================================================>]  468.3kB/468.3kB
 19675ee30daa Extracting [==================================================>]  468.3kB/468.3kB
 19675ee30daa Extracting [==================================================>]  468.3kB/468.3kB
 19675ee30daa Extracting [==================================================>]  468.3kB/468.3kB
 19675ee30daa Extracting [==================================================>]  468.3kB/468.3kB
 19675ee30daa Pull complete 
 19675ee30daa Pull complete 
 19675ee30daa Pull complete 
 56ba7dc9c07f Extracting [>                                                  ]  32.77kB/2.043MB
 56ba7dc9c07f Extracting [>                                                  ]  32.77kB/2.043MB
 0990340c1b7a Extracting [>                                                  ]  32.77kB/2.211MB
 56ba7dc9c07f Extracting [==================================================>]  2.043MB/2.043MB
 56ba7dc9c07f Extracting [==================================================>]  2.043MB/2.043MB
 0990340c1b7a Extracting [==================================================>]  2.211MB/2.211MB
 56ba7dc9c07f Pull complete 
 56ba7dc9c07f Pull complete 
 0990340c1b7a Pull complete 
 app1 Pulled 
 app2 Pulled 
 consumer Pulled 
 Network luucaspole-crystal_backend  Creating
 Network luucaspole-crystal_backend  Created
 Volume "luucaspole-crystal_nginx_run"  Creating
 Volume "luucaspole-crystal_nginx_run"  Created
 Volume "luucaspole-crystal_nginx_log"  Creating
 Volume "luucaspole-crystal_nginx_log"  Created
 Volume "luucaspole-crystal_nginx_cache"  Creating
 Volume "luucaspole-crystal_nginx_cache"  Created
 Container lavinmq  Creating
 Container lavinmq  Created
 Container luucaspole-crystal-consumer-1  Creating
 Container luucaspole-crystal-consumer-1  Created
 Container luucaspole-crystal-app1-1  Creating
 Container luucaspole-crystal-app2-1  Creating
 Container luucaspole-crystal-app1-1  Created
 Container luucaspole-crystal-app2-1  Created
 Container luucaspole-crystal-nginx-1  Creating
 Container luucaspole-crystal-nginx-1  Created
Attaching to lavinmq, app1-1, app2-1, consumer-1, nginx-1
lavinmq     | WARNING: 'guest_only_loopback' is deprecated, use '--default-user-only-loopback' instead
lavinmq     | WARNING: 'guest_only_loopback' is deprecated, use '--default-user-only-loopback' instead
lavinmq     | 2025-07-26T05:56:01.791652Z  INFO lmq[level: "Info", target: "stdout"] Logger settings
lavinmq     | 2025-07-26T05:56:01.882220Z  INFO lmq.launcher LavinMQ 2.4.0
lavinmq     | 2025-07-26T05:56:01.882221Z  INFO lmq.launcher Crystal 1.16.3 (2025-05-12)
lavinmq     | 2025-07-26T05:56:01.882221Z  INFO lmq.launcher LLVM: 18.1.3
lavinmq     | 2025-07-26T05:56:01.882221Z  INFO lmq.launcher Default target: x86_64-pc-linux-gnu
lavinmq     | 2025-07-26T05:56:01.882222Z  INFO lmq.launcher Build flags: --release --debug
lavinmq     | 2025-07-26T05:56:01.882223Z  INFO lmq.launcher Multithreading: 4 threads
lavinmq     | 2025-07-26T05:56:01.882226Z  INFO lmq.launcher Pid: 1
lavinmq     | 2025-07-26T05:56:01.882226Z  INFO lmq.launcher Data directory: /var/lib/lavinmq
lavinmq     | 2025-07-26T05:56:01.882277Z  INFO lmq.launcher Max mmap count: 65530
lavinmq     | 2025-07-26T05:56:01.882278Z  WARN lmq.launcher The max mmap count limit is very low, consider raising it.
lavinmq     | 2025-07-26T05:56:01.882278Z  WARN lmq.launcher The limits should be higher than the maximum of # connections * 2 + # consumer * 2 + # queues * 4
lavinmq     | 2025-07-26T05:56:01.882278Z  WARN lmq.launcher sysctl -w vm.max_map_count=1000000
lavinmq     | 2025-07-26T05:56:01.882281Z  INFO lmq.launcher FD limit: 1048576
lavinmq     | 2025-07-26T05:56:01.902442Z  INFO lmq.vhost[vhost: "/"] Loading default definitions
lavinmq     | 2025-07-26T05:56:01.902467Z  INFO lmq.vhost[vhost: "/"] Compacting definitions
lavinmq     | 2025-07-26T05:56:01.912165Z  INFO lmq.vhost_store Created vhost /
lavinmq     | 2025-07-26T05:56:01.922669Z  INFO lmq.http.server Bound to 0.0.0.0:15672
lavinmq     | 2025-07-26T05:56:01.922860Z  INFO lmq.http.server Bound to /tmp/lavinmqctl.sock
lavinmq     | 2025-07-26T05:56:01.982099Z  INFO lmq.server Listening for AMQP on 0.0.0.0:5672
lavinmq     | 2025-07-26T05:56:01.982182Z  INFO lmq.server Listening for MQTT on 0.0.0.0:1883
lavinmq     | 2025-07-26T05:56:01.982235Z  INFO lmq.launcher Finished startup in 0.099860827s
lavinmq     | 2025-07-26T05:56:04.559534Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.3:53672", name: "consumer"] Connection established for user=guest
lavinmq     | 2025-07-26T05:56:04.562015Z  INFO lmq.message_store[queue: "default", vhost: "/"] Loaded 1 segments, 0 messages
lavinmq     | 2025-07-26T05:56:04.564711Z  INFO lmq.message_store[queue: "fallback", vhost: "/"] Loaded 1 segments, 0 messages
consumer-1  | 2025-07-26T05:56:04.566558Z   INFO - Starting Kemal server
consumer-1  | 2025-07-26T05:56:04.566902Z   INFO - kemal: [development] Kemal is ready to lead at http:///dev/shm/1.sock
consumer-1  | 2025-07-26T05:56:04.567487Z   INFO - Listening for messages on AMQP queue: processor:queue:1
lavinmq     | 2025-07-26T05:56:04.586397Z  INFO lmq.message_store[queue: "processor:queue:1", vhost: "/"] Loaded 1 segments, 0 messages
lavinmq     | 2025-07-26T05:56:05.471601Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.4:41588", name: "server"] Connection established for user=guest
app1-1      | 2025-07-26T05:56:05.472053Z   INFO - HTTP Server running on port 9999
app1-1      | 2025-07-26T05:56:05.472059Z   INFO - GET /payment-summary - Get payment summary
app1-1      | 2025-07-26T05:56:05.472059Z   INFO - POST /payments - Create a new payment
app1-1      | 2025-07-26T05:56:05.472345Z   INFO - HTTP Server running on socket /dev/shm/app1.sock
app1-1      | 2025-07-26T05:56:05.472364Z   INFO - kemal: [development] Kemal is ready to lead at http:///dev/shm/app1.sock
lavinmq     | 2025-07-26T05:56:05.509139Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.5:48818", name: "server"] Connection established for user=guest
app2-1      | 2025-07-26T05:56:05.509532Z   INFO - HTTP Server running on port 9999
app2-1      | 2025-07-26T05:56:05.509538Z   INFO - GET /payment-summary - Get payment summary
app2-1      | 2025-07-26T05:56:05.509538Z   INFO - POST /payments - Create a new payment
app2-1      | 2025-07-26T05:56:05.509828Z   INFO - HTTP Server running on socket /dev/shm/app2.sock
app2-1      | 2025-07-26T05:56:05.509843Z   INFO - kemal: [development] Kemal is ready to lead at http:///dev/shm/app2.sock
nginx-1     | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1     | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1     | 10-listen-on-ipv6-by-default.sh: info: can not modify /etc/nginx/conf.d/default.conf (read-only file system?)
nginx-1     | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1     | /docker-entrypoint.sh: Configuration complete; ready for start up
consumer-1  | 2025-07-26T05:56:08.317995Z   INFO - kemal: 200 GET /payments-summary 56.94µs
consumer-1  | 2025-07-26T05:56:14.105447Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T05:56:04.102Z&to=2025-07-26T05:56:14.002Z 55.22µs
consumer-1  | 2025-07-26T05:56:24.210190Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T05:56:14.208Z&to=2025-07-26T05:56:24.108Z 72.41µs
consumer-1  | 2025-07-26T05:56:34.214576Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T05:56:24.213Z&to=2025-07-26T05:56:34.113Z 53.03µs
consumer-1  | 2025-07-26T05:56:44.217408Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T05:56:34.216Z&to=2025-07-26T05:56:44.116Z 55.02µs
consumer-1  | 2025-07-26T05:56:54.222751Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T05:56:44.220Z&to=2025-07-26T05:56:54.120Z 31.51µs
consumer-1  | 2025-07-26T05:57:04.224646Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T05:56:54.223Z&to=2025-07-26T05:57:04.123Z 81.94µs
consumer-1  | 2025-07-26T05:57:15.117208Z   INFO - kemal: 200 GET /payments-summary?from=2025-07-26T05:56:05.104Z&to=2025-07-26T05:57:15.104Z 1.06ms
[Knginx-1 exited with code 0
app1-1      | 2025-07-26T05:57:15.881624Z   INFO - kemal: Kemal is going to take a rest!
lavinmq     | 2025-07-26T05:57:15.882926Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.4:41588", name: "server"] Connection disconnected for user=guest
app2-1      | 2025-07-26T05:57:15.886784Z   INFO - kemal: Kemal is going to take a rest!
lavinmq     | 2025-07-26T05:57:15.887999Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.5:48818", name: "server"] Connection disconnected for user=guest
[Kapp1-1 exited with code 0
consumer-1  | 2025-07-26T05:57:16.533517Z   INFO - kemal: Kemal is going to take a rest!
lavinmq     | 2025-07-26T05:57:16.539645Z  INFO lmq.amqp.client[vhost: "/", address: "172.20.0.3:53672", name: "consumer"] Connection disconnected for user=guest
[Kconsumer-1 exited with code 0
lavinmq     | 2025-07-26T05:57:16.997080Z  WARN lmq.launcher Stopping
lavinmq     | 2025-07-26T05:57:16.997194Z  INFO lmq.vhost[vhost: "/"] Closing connections
lavinmq     | 2025-07-26T05:57:16.997206Z  INFO lmq.vhost[vhost: "/"] All connections closed gracefully
lavinmq     | 2025-07-26T05:57:16.997520Z  INFO lmq.queue[queue: "default", vhost: "/"] (messages=0) Deleted
lavinmq     | 2025-07-26T05:57:16.997718Z  INFO lmq.queue[queue: "fallback", vhost: "/"] (messages=0) Deleted
lavinmq     | 2025-07-26T05:57:16.998370Z  INFO lmq.queue[queue: "processor:queue:1", vhost: "/"] (messages=0) Deleted
lavinmq     | 2025-07-26T05:57:16.998511Z  INFO lmq.launcher Fibers: 
lavinmq     | 2025-07-26T05:57:16.998512Z  INFO lmq.launcher #<Fiber:0x7f2b7d3a0f00: main>
lavinmq     | 2025-07-26T05:57:16.998513Z  INFO lmq.launcher #<Fiber:0x7f2b7d3a0c00: DEFAULT:loop>
lavinmq     | 2025-07-26T05:57:16.998513Z  INFO lmq.launcher #<Fiber:0x7f2b7d3a0b40: main>
lavinmq     | 2025-07-26T05:57:16.998513Z  INFO lmq.launcher #<Fiber:0x7f2b7d3a09c0: signal-loop>
lavinmq     | 2025-07-26T05:57:16.998524Z  INFO lmq.launcher #<Fiber:0x7f2b7d3a0540>
lavinmq     | 2025-07-26T05:57:16.998525Z  INFO lmq.launcher #<Fiber:0x7f2b7d3a0480>
lavinmq     | 2025-07-26T05:57:16.998525Z  INFO lmq.launcher #<Fiber:0x7f2b7d3a03c0: RoughTime>
lavinmq     | 2025-07-26T05:57:16.998525Z  INFO lmq.launcher #<Fiber:0x7f2b7aa3dc00: Consumer timeouts loop>
lavinmq     | 2025-07-26T05:57:16.998525Z  INFO lmq.launcher #<Fiber:0x7f2b7aa3d840: Server#stats_loop>
lavinmq     | 2025-07-26T05:57:16.998526Z  INFO lmq.launcher #<Fiber:0x7f2b7aa3de40>
[Klavinmq exited with code 0
log truncated at line 1000
