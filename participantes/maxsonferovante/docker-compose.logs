
 Network backend  Creating
 Network backend  Created
 Container maxsonferovante-redis-1  Creating
 Container maxsonferovante-redis-1  Created
 Container maxsonferovante-async-worker-1  Creating
 Container maxsonferovante-app-native-1-1  Creating
 Container maxsonferovante-app-native-2-1  Creating
 Container maxsonferovante-async-worker-1  Created
 Container maxsonferovante-app-native-2-1  Created
 Container maxsonferovante-app-native-1-1  Created
 Container maxsonferovante-nginx-1  Creating
 Container maxsonferovante-nginx-1  Created
Attaching to app-native-1-1, app-native-2-1, async-worker-1, nginx-1, redis-1
redis-1         | 1:C 23 Jul 2025 20:30:21.060 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
redis-1         | 1:C 23 Jul 2025 20:30:21.060 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis-1         | 1:C 23 Jul 2025 20:30:21.060 * Redis version=7.4.5, bits=64, commit=00000000, modified=0, pid=1, just started
redis-1         | 1:C 23 Jul 2025 20:30:21.060 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
redis-1         | 1:M 23 Jul 2025 20:30:21.061 * monotonic clock: POSIX clock_gettime
redis-1         | 1:M 23 Jul 2025 20:30:21.061 * Running mode=standalone, port=6379.
redis-1         | 1:M 23 Jul 2025 20:30:21.062 * Server initialized
redis-1         | 1:M 23 Jul 2025 20:30:21.062 * Ready to accept connections tcp
app-native-1-1  | 2025-07-23T20:30:27.132Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : Starting AOT-processed ApiPaymentProcessorApplication using Java 24.0.2 with PID 1 (/app/app started by appuser in /app)
app-native-1-1  | 2025-07-23T20:30:27.132Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : No active profile set, falling back to 1 default profile: "default"
app-native-2-1  | 2025-07-23T20:30:27.133Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : Starting AOT-processed ApiPaymentProcessorApplication using Java 24.0.2 with PID 1 (/app/app started by appuser in /app)
app-native-2-1  | 2025-07-23T20:30:27.133Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : No active profile set, falling back to 1 default profile: "default"
app-native-2-1  | 2025-07-23T20:30:27.192Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8089 (http)
app-native-1-1  | 2025-07-23T20:30:27.192Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8089 (http)
app-native-2-1  | 2025-07-23T20:30:27.193Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
app-native-2-1  | 2025-07-23T20:30:27.193Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
app-native-1-1  | 2025-07-23T20:30:27.193Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
app-native-1-1  | 2025-07-23T20:30:27.193Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
app-native-2-1  | 2025-07-23T20:30:27.201Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
app-native-2-1  | 2025-07-23T20:30:27.201Z  INFO 1 --- [ApiPaymentProcessor] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 68 ms
app-native-1-1  | 2025-07-23T20:30:27.201Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
app-native-1-1  | 2025-07-23T20:30:27.201Z  INFO 1 --- [ApiPaymentProcessor] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 69 ms
app-native-2-1  | WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
app-native-2-1  | WARNING: sun.misc.Unsafe::allocateMemory has been called by io.netty.util.internal.PlatformDependent0$2 (file:/app/app)
app-native-2-1  | WARNING: Please consider reporting this to the maintainers of class io.netty.util.internal.PlatformDependent0$2
app-native-2-1  | WARNING: sun.misc.Unsafe::allocateMemory will be removed in a future release
app-native-1-1  | WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
app-native-1-1  | WARNING: sun.misc.Unsafe::allocateMemory has been called by io.netty.util.internal.PlatformDependent0$2 (file:/app/app)
app-native-1-1  | WARNING: Please consider reporting this to the maintainers of class io.netty.util.internal.PlatformDependent0$2
app-native-1-1  | WARNING: sun.misc.Unsafe::allocateMemory will be removed in a future release
nginx-1         | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1         | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1         | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1         | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
async-worker-1  | 2025-07-23T20:30:27.340Z  INFO 1 --- [AsyncPaymentProcessor] [           main] c.m.a.AsyncPaymentProcessorApplication   : Starting AOT-processed AsyncPaymentProcessorApplication using Java 24.0.2 with PID 1 (/app/app started by appuser in /app)
async-worker-1  | 2025-07-23T20:30:27.341Z  INFO 1 --- [AsyncPaymentProcessor] [           main] c.m.a.AsyncPaymentProcessorApplication   : No active profile set, falling back to 1 default profile: "default"
nginx-1         | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1         | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1         | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
async-worker-1  | WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
async-worker-1  | WARNING: sun.misc.Unsafe::allocateMemory has been called by io.netty.util.internal.PlatformDependent0$2 (file:/app/app)
async-worker-1  | WARNING: Please consider reporting this to the maintainers of class io.netty.util.internal.PlatformDependent0$2
async-worker-1  | WARNING: sun.misc.Unsafe::allocateMemory will be removed in a future release
nginx-1         | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1         | /docker-entrypoint.sh: Configuration complete; ready for start up
app-native-1-1  | 2025-07-23T20:30:27.399Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8089 (http) with context path '/'
app-native-2-1  | 2025-07-23T20:30:27.399Z  INFO 1 --- [ApiPaymentProcessor] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8089 (http) with context path '/'
app-native-2-1  | 2025-07-23T20:30:27.400Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : Started ApiPaymentProcessorApplication in 0.325 seconds (process running for 0.348)
app-native-1-1  | 2025-07-23T20:30:27.400Z  INFO 1 --- [ApiPaymentProcessor] [           main] c.m.a.ApiPaymentProcessorApplication     : Started ApiPaymentProcessorApplication in 0.325 seconds (process running for 0.374)
async-worker-1  | 2025-07-23T20:30:27.499Z  INFO 1 --- [AsyncPaymentProcessor] [           main] c.m.a.AsyncPaymentProcessorApplication   : Started AsyncPaymentProcessorApplication in 0.274 seconds (process running for 0.52)
async-worker-1  | WARNING: A restricted method in java.lang.System has been called
async-worker-1  | WARNING: java.lang.System::loadLibrary has been called by io.netty.util.internal.NativeLibraryUtil in an unnamed module (file:/app/app)
async-worker-1  | WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
async-worker-1  | WARNING: Restricted methods will be blocked in a future release unless native access is enabled
async-worker-1  | 
app-native-1-1  | 2025-07-23T20:30:29.530Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
app-native-1-1  | 2025-07-23T20:30:29.530Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
app-native-1-1  | 2025-07-23T20:30:29.530Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
app-native-1-1  | Erro ao consultar processador http://localhost:8001: I/O error on GET request for "http://localhost:8001/admin/payments-summary": Connection refused
app-native-1-1  | Erro ao consultar processador http://localhost:8002: I/O error on GET request for "http://localhost:8002/admin/payments-summary": Connection refused
app-native-1-1  | Purge operation not applicable - data stored in Payment Processors
app-native-1-1  | Erro ao consultar processador http://localhost:8001: I/O error on GET request for "http://localhost:8001/admin/payments-summary": Connection refused
app-native-1-1  | Erro ao consultar processador http://localhost:8002: I/O error on GET request for "http://localhost:8002/admin/payments-summary": Connection refused
app-native-2-1  | 2025-07-23T20:30:35.413Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
app-native-2-1  | 2025-07-23T20:30:35.413Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
app-native-2-1  | 2025-07-23T20:30:35.414Z  INFO 1 --- [ApiPaymentProcessor] [omcat-handler-0] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
app-native-2-1  | WARNING: A restricted method in java.lang.System has been called
app-native-2-1  | WARNING: java.lang.System::loadLibrary has been called by io.netty.util.internal.NativeLibraryUtil in an unnamed module (file:/app/app)
app-native-2-1  | WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
app-native-2-1  | WARNING: Restricted methods will be blocked in a future release unless native access is enabled
app-native-2-1  | 
app-native-1-1  | WARNING: A restricted method in java.lang.System has been called
app-native-1-1  | WARNING: java.lang.System::loadLibrary has been called by io.netty.util.internal.NativeLibraryUtil in an unnamed module (file:/app/app)
app-native-1-1  | WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
app-native-1-1  | WARNING: Restricted methods will be blocked in a future release unless native access is enabled
app-native-1-1  | 
app-native-1-1  | Erro ao consultar processador http://localhost:8001: I/O error on GET request for "http://localhost:8001/admin/payments-summary": Connection refused
app-native-1-1  | Erro ao consultar processador http://localhost:8002: I/O error on GET request for "http://localhost:8002/admin/payments-summary": Connection refused
app-native-2-1  | Erro ao consultar processador http://localhost:8001: I/O error on GET request for "http://localhost:8001/admin/payments-summary": Connection refused
app-native-2-1  | Erro ao consultar processador http://localhost:8002: I/O error on GET request for "http://localhost:8002/admin/payments-summary": Connection refused
app-native-1-1  | Erro ao consultar processador http://localhost:8001: I/O error on GET request for "http://localhost:8001/admin/payments-summary": Connection refused
app-native-1-1  | Erro ao consultar processador http://localhost:8002: I/O error on GET request for "http://localhost:8002/admin/payments-summary": Connection refused
app-native-1-1  | Erro ao consultar processador http://localhost:8001: I/O error on GET request for "http://localhost:8001/admin/payments-summary": Connection refused
app-native-1-1  | Erro ao consultar processador http://localhost:8002: I/O error on GET request for "http://localhost:8002/admin/payments-summary": Connection refused
redis-1         | 1:M 23 Jul 2025 20:31:22.076 * 10000 changes in 60 seconds. Saving...
redis-1         | 1:M 23 Jul 2025 20:31:22.076 * Background saving started by pid 87
redis-1         | 87:C 23 Jul 2025 20:31:22.092 * DB saved on disk
redis-1         | 87:C 23 Jul 2025 20:31:22.092 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
redis-1         | 1:M 23 Jul 2025 20:31:22.177 * Background saving terminated with success
app-native-1-1  | Erro ao consultar processador http://localhost:8001: I/O error on GET request for "http://localhost:8001/admin/payments-summary": Connection refused
app-native-1-1  | Erro ao consultar processador http://localhost:8002: I/O error on GET request for "http://localhost:8002/admin/payments-summary": Connection refused
app-native-2-1  | Erro ao consultar processador http://localhost:8001: I/O error on GET request for "http://localhost:8001/admin/payments-summary": Connection refused
app-native-2-1  | Erro ao consultar processador http://localhost:8002: I/O error on GET request for "http://localhost:8002/admin/payments-summary": Connection refused
[Knginx-1 exited with code 0
app-native-1-1  | 2025-07-23T20:31:37.217Z  INFO 1 --- [ApiPaymentProcessor] [ionShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
app-native-1-1  | 2025-07-23T20:31:37.219Z  INFO 1 --- [ApiPaymentProcessor] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
app-native-2-1  | 2025-07-23T20:31:37.223Z  INFO 1 --- [ApiPaymentProcessor] [ionShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
app-native-2-1  | 2025-07-23T20:31:37.224Z  INFO 1 --- [ApiPaymentProcessor] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
[Kapp-native-2-1 exited with code 143
[Kasync-worker-1 exited with code 143
[Kapp-native-1-1 exited with code 143
redis-1         | 1:signal-handler (1753302697) Received SIGTERM scheduling shutdown...
redis-1         | 1:M 23 Jul 2025 20:31:38.030 * User requested shutdown...
redis-1         | 1:M 23 Jul 2025 20:31:38.030 * Saving the final RDB snapshot before exiting.
redis-1         | 1:M 23 Jul 2025 20:31:38.044 * DB saved on disk
redis-1         | 1:M 23 Jul 2025 20:31:38.044 # Redis is now ready to exit, bye bye...
[Kredis-1 exited with code 0
log truncated at line 1000
