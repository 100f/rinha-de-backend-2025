
 api02 Pulling 
 api01 Pulling 
 80b7316254b3 Already exists 
 36e4db86de6e Already exists 
 80b7316254b3 Already exists 
 8ea45766c644 Already exists 
 36e4db86de6e Already exists 
 8ea45766c644 Already exists 
 3cb1455cf185 Already exists 
 3cb1455cf185 Already exists 
 da874a28f022 Already exists 
 da874a28f022 Already exists 
 751edacf48fe Already exists 
 751edacf48fe Already exists 
 bc6d128e2a51 Already exists 
 bc6d128e2a51 Already exists 
 f4f5382924c6 Pulling fs layer 
 af94dc0a96e8 Pulling fs layer 
 a27a5f15742e Pulling fs layer 
 2fd50bd0a0b7 Pulling fs layer 
 cc4c352418f0 Pulling fs layer 
 2fd50bd0a0b7 Waiting 
 cc4c352418f0 Waiting 
 f4f5382924c6 Pulling fs layer 
 af94dc0a96e8 Pulling fs layer 
 a27a5f15742e Pulling fs layer 
 2fd50bd0a0b7 Pulling fs layer 
 cc4c352418f0 Pulling fs layer 
 cc4c352418f0 Waiting 
 2fd50bd0a0b7 Waiting 
 f4f5382924c6 Verifying Checksum 
 f4f5382924c6 Downloading [==================================================>]      93B/93B
 f4f5382924c6 Download complete 
 f4f5382924c6 Download complete 
 f4f5382924c6 Extracting [==================================================>]      93B/93B
 f4f5382924c6 Extracting [==================================================>]      93B/93B
 f4f5382924c6 Extracting [==================================================>]      93B/93B
 f4f5382924c6 Extracting [==================================================>]      93B/93B
 f4f5382924c6 Pull complete 
 f4f5382924c6 Pull complete 
 a27a5f15742e Downloading [==================================================>]     943B/943B
 a27a5f15742e Verifying Checksum 
 a27a5f15742e Download complete 
 a27a5f15742e Download complete 
 2fd50bd0a0b7 Downloading [>                                                  ]  132.1kB/13.17MB
 2fd50bd0a0b7 Downloading [>                                                  ]  132.1kB/13.17MB
 cc4c352418f0 Downloading [===>                                               ]  16.38kB/270kB
 cc4c352418f0 Downloading [===>                                               ]  16.38kB/270kB
 cc4c352418f0 Verifying Checksum 
 cc4c352418f0 Verifying Checksum 
 cc4c352418f0 Download complete 
 cc4c352418f0 Download complete 
 2fd50bd0a0b7 Verifying Checksum 
 2fd50bd0a0b7 Download complete 
 2fd50bd0a0b7 Verifying Checksum 
 2fd50bd0a0b7 Download complete 
 af94dc0a96e8 Downloading [==================================================>]     289B/289B
 af94dc0a96e8 Verifying Checksum 
 af94dc0a96e8 Download complete 
 af94dc0a96e8 Downloading [==================================================>]     289B/289B
 af94dc0a96e8 Verifying Checksum 
 af94dc0a96e8 Download complete 
 af94dc0a96e8 Extracting [==================================================>]     289B/289B
 af94dc0a96e8 Extracting [==================================================>]     289B/289B
 af94dc0a96e8 Extracting [==================================================>]     289B/289B
 af94dc0a96e8 Extracting [==================================================>]     289B/289B
 af94dc0a96e8 Pull complete 
 af94dc0a96e8 Pull complete 
 a27a5f15742e Extracting [==================================================>]     943B/943B
 a27a5f15742e Extracting [==================================================>]     943B/943B
 a27a5f15742e Extracting [==================================================>]     943B/943B
 a27a5f15742e Extracting [==================================================>]     943B/943B
 a27a5f15742e Pull complete 
 a27a5f15742e Pull complete 
 2fd50bd0a0b7 Extracting [>                                                  ]  163.8kB/13.17MB
 2fd50bd0a0b7 Extracting [>                                                  ]  163.8kB/13.17MB
 2fd50bd0a0b7 Extracting [===>                                               ]  819.2kB/13.17MB
 2fd50bd0a0b7 Extracting [===>                                               ]  819.2kB/13.17MB
 2fd50bd0a0b7 Extracting [=============================>                     ]  7.864MB/13.17MB
 2fd50bd0a0b7 Extracting [=============================>                     ]  7.864MB/13.17MB
 2fd50bd0a0b7 Extracting [========================================>          ]  10.65MB/13.17MB
 2fd50bd0a0b7 Extracting [========================================>          ]  10.65MB/13.17MB
 2fd50bd0a0b7 Extracting [============================================>      ]  11.63MB/13.17MB
 2fd50bd0a0b7 Extracting [============================================>      ]  11.63MB/13.17MB
 2fd50bd0a0b7 Extracting [==================================================>]  13.17MB/13.17MB
 2fd50bd0a0b7 Extracting [==================================================>]  13.17MB/13.17MB
 2fd50bd0a0b7 Pull complete 
 2fd50bd0a0b7 Pull complete 
 cc4c352418f0 Extracting [======>                                            ]  32.77kB/270kB
 cc4c352418f0 Extracting [======>                                            ]  32.77kB/270kB
 cc4c352418f0 Extracting [==================================================>]    270kB/270kB
 cc4c352418f0 Extracting [==================================================>]    270kB/270kB
 cc4c352418f0 Extracting [==================================================>]    270kB/270kB
 cc4c352418f0 Extracting [==================================================>]    270kB/270kB
 cc4c352418f0 Pull complete 
 cc4c352418f0 Pull complete 
 api01 Pulled 
 api02 Pulled 
 Network pru-async_net  Creating
 Network pru-async_net  Created
 Container redis  Creating
 Container redis  Created
 Container api02  Creating
 Container api01  Creating
 Container api02  Created
 Container api01  Created
 Container nginx  Creating
 Container nginx  Created
Attaching to api01, api02, nginx, redis
redis  | 1:C 15 Aug 2025 01:33:59.870 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
nginx  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx  | /docker-entrypoint.sh: Configuration complete; ready for start up
nginx  | 2025/08/15 01:34:00 [warn] 1#1: the "listen ... http2" directive is deprecated, use the "http2" directive instead in /etc/nginx/nginx.conf:51
nginx  | nginx: [warn] the "listen ... http2" directive is deprecated, use the "http2" directive instead in /etc/nginx/nginx.conf:51
nginx  | 2025/08/15 01:34:01 [error] 32#32: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.4:3000/payments-summary", host: "localhost:9999"
nginx  | 2025/08/15 01:34:01 [error] 32#32: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.20.0.1, server: , request: "GET /payments-summary HTTP/1.1", upstream: "http://172.20.0.3:3000/payments-summary", host: "localhost:9999"
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":864,"fiber_id":872,"subject":"Falcon::Command::Serve","message":"Falcon v0.52.3 taking flight! Using Async::Container::Forked {count: 1, restart: true, health_check_timeout: 30.0}.\n- Running on ruby 3.4.5 (2025-07-16 revision 20cda200d3) +YJIT +PRISM [x86_64-linux]\n- Binding to: #<Falcon::Endpoint http://0.0.0.0:3000/ {}>\n- To terminate: Ctrl-C or kill 1\n- To reload configuration: kill -HUP 1\n"}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":864,"fiber_id":872,"subject":"Falcon::Command::Serve","message":"Falcon v0.52.3 taking flight! Using Async::Container::Forked {count: 1, restart: true, health_check_timeout: 30.0}.\n- Running on ruby 3.4.5 (2025-07-16 revision 20cda200d3) +YJIT +PRISM [x86_64-linux]\n- Binding to: #<Falcon::Endpoint http://0.0.0.0:3000/ {}>\n- To terminate: Ctrl-C or kill 1\n- To reload configuration: kill -HUP 1\n"}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":880,"fiber_id":872,"subject":"Async::Container::Notify::Console","message":{"status":"Initializing controller..."}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":896,"fiber_id":872,"subject":"Falcon::Service::Server","message":"Starting http://0.0.0.0:3000 on #<Falcon::Endpoint http://0.0.0.0:3000/ {}>"}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":904,"fiber_id":872,"subject":"Async::Service::Controller","message":"Controller starting..."}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":880,"fiber_id":872,"subject":"Async::Container::Notify::Console","message":{"status":"Initializing controller..."}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":896,"fiber_id":872,"subject":"Falcon::Service::Server","message":"Starting http://0.0.0.0:3000 on #<Falcon::Endpoint http://0.0.0.0:3000/ {}>"}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":904,"fiber_id":872,"subject":"Async::Service::Controller","message":"Controller starting..."}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":1}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":2}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":880,"fiber_id":872,"subject":"Async::Container::Notify::Console","message":{"ready":true,"size":1}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":904,"fiber_id":872,"subject":"Async::Service::Controller","message":"Controller started..."}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":3}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":4}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":5}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":6}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":7}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":8}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":9}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":10}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":11}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":12}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":13}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":14}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":15}}
api01  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":16}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":1}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":2}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":3}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":4}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":880,"fiber_id":872,"subject":"Async::Container::Notify::Console","message":{"ready":true,"size":1}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":1,"oid":904,"fiber_id":872,"subject":"Async::Service::Controller","message":"Controller started..."}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":5}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":6}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":7}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":8}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":9}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":10}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":11}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":12}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":13}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":14}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":15}}
api02  | {"time":"2025-08-15T01:34:01+00:00","severity":"info","pid":9,"oid":912,"fiber_id":920,"subject":"Async::Container::Notify::Console","message":{"status":"job_queue_start","size":16}}
[Knginx exited with code 0
api01  | {"time":"2025-08-15T01:35:13+00:00","severity":"info","pid":1,"oid":928,"fiber_id":872,"subject":"Async::Container::Group","message":"Sending terminate to 1 running processes..."}
api02  | {"time":"2025-08-15T01:35:13+00:00","severity":"info","pid":1,"oid":928,"fiber_id":872,"subject":"Async::Container::Group","message":"Sending terminate to 1 running processes..."}
api02  | {"time":"2025-08-15T01:35:13+00:00","severity":"error","pid":9,"oid":135040,"fiber_id":135048,"subject":"Async::Container::Forked::Child","message":"SIGTERM","event":{"type":"failure","root":"/app","class":"Async::Container::Terminate","message":"SIGTERM","backtrace":["/usr/local/bundle/gems/async-2.27.2/lib/async/scheduler.rb:525:in 'Thread.handle_interrupt'","/usr/local/bundle/gems/async-2.27.2/lib/async/scheduler.rb:525:in 'Async::Scheduler#run_loop'","/usr/local/bundle/gems/async-2.27.2/lib/async/scheduler.rb:567:in 'Async::Scheduler#run'","/usr/local/bundle/gems/async-2.27.2/lib/kernel/async.rb:34:in 'Kernel#Async'","/usr/local/bundle/gems/falcon-0.52.3/lib/falcon/service/server.rb:61:in 'block in Falcon::Service::Server#setup'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:110:in 'block (3 levels) in Async::Container::Forked::Child.fork'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:109:in 'Thread.handle_interrupt'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:109:in 'block (2 levels) in Async::Container::Forked::Child.fork'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:102:in 'Process.fork'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:102:in 'block in Async::Container::Forked::Child.fork'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:146:in 'Async::Container::Forked::Child#initialize'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:101:in 'Class#new'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:101:in 'Async::Container::Forked::Child.fork'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:263:in 'Async::Container::Forked#start'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/generic.rb:176:in 'block in Async::Container::Generic#spawn'"]}}
api01  | {"time":"2025-08-15T01:35:13+00:00","severity":"error","pid":9,"oid":135024,"fiber_id":135032,"subject":"Async::Container::Forked::Child","message":"SIGTERM","event":{"type":"failure","root":"/app","class":"Async::Container::Terminate","message":"SIGTERM","backtrace":["/usr/local/bundle/gems/async-2.27.2/lib/async/scheduler.rb:525:in 'Thread.handle_interrupt'","/usr/local/bundle/gems/async-2.27.2/lib/async/scheduler.rb:525:in 'Async::Scheduler#run_loop'","/usr/local/bundle/gems/async-2.27.2/lib/async/scheduler.rb:567:in 'Async::Scheduler#run'","/usr/local/bundle/gems/async-2.27.2/lib/kernel/async.rb:34:in 'Kernel#Async'","/usr/local/bundle/gems/falcon-0.52.3/lib/falcon/service/server.rb:61:in 'block in Falcon::Service::Server#setup'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:110:in 'block (3 levels) in Async::Container::Forked::Child.fork'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:109:in 'Thread.handle_interrupt'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:109:in 'block (2 levels) in Async::Container::Forked::Child.fork'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:102:in 'Process.fork'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:102:in 'block in Async::Container::Forked::Child.fork'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:146:in 'Async::Container::Forked::Child#initialize'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:101:in 'Class#new'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:101:in 'Async::Container::Forked::Child.fork'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/forked.rb:263:in 'Async::Container::Forked#start'","/usr/local/bundle/gems/async-container-0.25.0/lib/async/container/generic.rb:176:in 'block in Async::Container::Generic#spawn'"]}}
api02  | {"time":"2025-08-15T01:35:13+00:00","severity":"error","pid":1,"oid":936,"fiber_id":944,"subject":"Async::Container::Forked","status":"pid 9 exit 1"}
api01  | {"time":"2025-08-15T01:35:13+00:00","severity":"error","pid":1,"oid":936,"fiber_id":944,"subject":"Async::Container::Forked","status":"pid 9 exit 1"}
[Kapi01 exited with code 0
[Kapi02 exited with code 0
redis  | 1:signal-handler (1755221713) Received SIGTERM scheduling shutdown...
redis  | 1:M 15 Aug 2025 01:35:13.697 # Redis is now ready to exit, bye bye...
log truncated at line 1000
