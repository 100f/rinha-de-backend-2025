
 worker Pulling 
 api_0 Pulling 
 lb Pulling 
 api_1 Pulling 
 356d26ade73a Already exists 
 3caaa9f9b2ca Pulling fs layer 
 0d76de90f366 Pulling fs layer 
 3caaa9f9b2ca Downloading [>                                                  ]  4.134kB/379.1kB
 0d76de90f366 Downloading [>                                                  ]   31.7kB/1.94MB
 3caaa9f9b2ca Verifying Checksum 
 3caaa9f9b2ca Download complete 
 3caaa9f9b2ca Extracting [====>                                              ]  32.77kB/379.1kB
 3caaa9f9b2ca Extracting [==================================================>]  379.1kB/379.1kB
 3caaa9f9b2ca Extracting [==================================================>]  379.1kB/379.1kB
 0d76de90f366 Verifying Checksum 
 0d76de90f366 Download complete 
 3caaa9f9b2ca Pull complete 
 0d76de90f366 Extracting [>                                                  ]  32.77kB/1.94MB
 0d76de90f366 Extracting [==================================================>]   1.94MB/1.94MB
 0d76de90f366 Pull complete 
 api_0 Pulled 
 api_1 Pulled 
 worker Pulled 
 lb Pulled 
 Network joao-xavier_default  Creating
 Network joao-xavier_default  Created
 Volume "joao-xavier_uds"  Creating
 Volume "joao-xavier_uds"  Created
 Container joao-xavier-worker-1  Creating
 Container joao-xavier-worker-1  Created
 Container joao-xavier-api_0-1  Creating
 Container joao-xavier-api_1-1  Creating
 Container joao-xavier-api_1-1  Created
 Container joao-xavier-api_0-1  Created
 Container joao-xavier-lb-1  Creating
 Container joao-xavier-lb-1  Created
Attaching to api_0-1, api_1-1, lb-1, worker-1
worker-1  | 2025-08-08T16:07:26.569048Z  INFO ThreadId(01) src/worker/mod.rs:25: starting worker
worker-1  | 2025-08-08T16:07:26.569066Z  INFO ThreadId(01) src/worker/mod.rs:37: starting payment_req_consumer
worker-1  | 2025-08-08T16:07:26.569179Z  INFO ThreadId(01) src/worker/mod.rs:72: listening on /var/run/worker.socket
api_0-1   | 2025-08-08T16:07:26.813231Z  INFO ThreadId(01) src/api/mod.rs:20: starting API
api_0-1   | 2025-08-08T16:07:26.813370Z  INFO ThreadId(01) src/api/mod.rs:27: binded to unix socket on /var/run/api0.sock
api_1-1   | 2025-08-08T16:07:26.858038Z  INFO ThreadId(01) src/api/mod.rs:20: starting API
api_1-1   | 2025-08-08T16:07:26.858146Z  INFO ThreadId(01) src/api/mod.rs:27: binded to unix socket on /var/run/api1.sock
lb-1      | 2025-08-08T16:07:27.128472Z  INFO ThreadId(01) src/lb.rs:45: starting lb on port 9999
lb-1      | 2025-08-08T16:07:27.128522Z  INFO ThreadId(01) src/lb.rs:49: api instances ["/var/run/api0.sock", "/var/run/api1.sock"]
lb-1      | 2025-08-08T16:07:27.128529Z  INFO ThreadId(01) src/lb.rs:53: allocating 1024 512B buffers
worker-1  | 2025-08-08T16:07:33.747547Z  INFO ThreadId(01) src/worker/mod.rs:116: db purged
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                          Units 𝚫 Delta                                                              | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=1002.9490790565901, p99=1744.9828733368154, max=9629]#320 ns    𝚫 [p50=+1002.9490790565901, p99=+1744.9828733368154, max=+9629]#+320 | db insert time              | 
worker-1  | db.select  Histogram [p50=4571.972559750481, p99=4571.972559750481, max=5108]#2     ns    𝚫 [p50=+4571.972559750481, p99=+4571.972559750481, max=+5108]#+2     | db query time               | 
worker-1  | pp_http    Histogram [p50=763.9482239173304, p99=1184.054705787518, max=13390]#320  μs    𝚫 [p50=+763.9482239173304, p99=+1184.054705787518, max=+13390]#+320  | payment processor http time | 
worker-1  | uds.handle Histogram [p50=11.000052032263987, p99=32.99975069216289, max=3135]#323  μs    𝚫 [p50=+11.000052032263987, p99=+32.99975069216289, max=+3135]#+323  | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   39    N/A   𝚫 2.599982204335136/s  | N/A         | 
api_0-1   | http.req  Counter   170   N/A   𝚫 11.333255762486491/s | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   39    N/A   𝚫 2.599987617818969/s  | N/A         | 
api_1-1   | http.req  Counter   175   N/A   𝚫 11.666611105597937/s | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                        Units 𝚫 Delta                                                            | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=3331.2404530604117, p99=3331.2404530604117, max=3545]#2 μs    𝚫 [p50=+3331.2404530604117, p99=+3331.2404530604117, max=+3545]#+2 | http handler time | 
lb-1      | http.post Histogram [p50=40.9970456740797, p99=83.00493050688405, max=135]#366   μs    𝚫 [p50=+40.9970456740797, p99=+83.00493050688405, max=+135]#+366   | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                           Units 𝚫 Delta                                                              | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=940.959423296477, p99=1883.147805254694, max=18162]#705    ns    𝚫 [p50=-61.98965576011312, p99=+138.16493191787868, max=+8533]#+385  | db insert time              | 
worker-1  | db.select  Histogram [p50=4435.963068330709, p99=4571.972559750481, max=5108]#4      ns    𝚫 [p50=-136.00949141977253, p99=+0, max=+0]#+2                       | db query time               | 
worker-1  | pp_http    Histogram [p50=808.9199940670999, p99=101610.28440168109, max=102179]#761 μs    𝚫 [p50=+44.97177014976944, p99=+100426.22969589356, max=+88789]#+441 | payment processor http time | 
worker-1  | uds.handle Histogram [p50=11.000052032263987, p99=45.00168833801188, max=3229]#2502  μs    𝚫 [p50=+0, p99=+12.00193764584899, max=+94]#+2179                    | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units 𝚫 Delta               | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   108   N/A   𝚫 4.599978100730923/s | N/A         | 
api_0-1   | http.req  Counter   1273  N/A   𝚫 73.53298326240882/s | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units 𝚫 Delta               | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   107   N/A   𝚫 4.533313811977396/s | N/A         | 
api_1-1   | http.req  Counter   1286  N/A   𝚫 74.0663477221601/s  | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                        Units 𝚫 Delta                                                           | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=3412.839842626873, p99=3545.023337797707, max=3775]#4   μs    𝚫 [p50=+81.59938956646147, p99=+213.78288473729526, max=+230]#+2  | http handler time | 
lb-1      | http.post Histogram [p50=45.00168833801188, p99=92.99074853701167, max=166]#2617 μs    𝚫 [p50=+4.004642663932181, p99=+9.985818030127618, max=+31]#+2251 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                             Units 𝚫 Delta                                                                | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=940.959423296477, p99=1883.147805254694, max=18162]#705      ns    𝚫 [p50=+0, p99=+0, max=+0]#+0                                          | db insert time              | 
worker-1  | db.select  Histogram [p50=4435.963068330709, p99=4571.972559750481, max=5108]#5        ns    𝚫 [p50=+0, p99=+0, max=+0]#+1                                          | db query time               | 
worker-1  | pp_http    Histogram [p50=2851.7839406211247, p99=102426.42689684038, max=2000832]#913 μs    𝚫 [p50=+2042.8639465540248, p99=+816.1424951592926, max=+1898653]#+152 | payment processor http time | 
worker-1  | uds.handle Histogram [p50=42.678701740188295, p99=85.99593346524438, max=29944]#6737   μs    𝚫 [p50=+31.678649707924308, p99=+40.994245127232496, max=+26715]#+4235 | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   176   N/A   𝚫 4.5333123380527915/s | N/A         | 
api_0-1   | http.req  Counter   3404  N/A   𝚫 142.066008711625/s   | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   176   N/A   𝚫 4.599979935500852/s  | N/A         | 
api_1-1   | http.req  Counter   3426  N/A   𝚫 142.66604437640325/s | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                          Units 𝚫 Delta                                                             | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=3545.023337797707, p99=3692.6514250517384, max=3775]#5    μs    𝚫 [p50=+132.1834951708338, p99=+147.62808725403147, max=+0]#+1      | http handler time | 
lb-1      | http.post Histogram [p50=49.00390593892515, p99=233.99506214353187, max=2518]#6927 μs    𝚫 [p50=+4.002217600913269, p99=+141.0043136065202, max=+2352]#+4310 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                               Units 𝚫 Delta                                                                | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=515.9965171865597, p99=1690.0273982619067, max=75026]#13018    ns    𝚫 [p50=-424.9629061099173, p99=-193.12040699278737, max=+56864]#+12313 | db insert time              | 
worker-1  | db.select  Histogram [p50=4435.963068330709, p99=5107.677216826625, max=5362]#7          ns    𝚫 [p50=+0, p99=+535.704657076144, max=+254]#+2                         | db query time               | 
worker-1  | pp_http    Histogram [p50=2852.9248823743137, p99=101184.41615511835, max=2001809]#13228 μs    𝚫 [p50=+1.140941753189054, p99=-1242.010741722028, max=+977]#+12315    | payment processor http time | 
worker-1  | uds.handle Histogram [p50=42.678701740188295, p99=148.01298577790973, max=29944]#13027   μs    𝚫 [p50=+0, p99=+62.017052312665356, max=+0]#+6290                      | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   245   N/A   𝚫 4.599979876621366/s  | N/A         | 
api_0-1   | http.req  Counter   6563  N/A   𝚫 210.59907869923038/s | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units 𝚫 Delta               | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   244   N/A   𝚫 4.533284763115944/s | N/A         | 
api_1-1   | http.req  Counter   6593  N/A   𝚫 211.1310712468852/s | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                           Units 𝚫 Delta                                                          | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=3545.023337797707, p99=3692.6514250517384, max=3775]#7     μs    𝚫 [p50=+0, p99=+0, max=+0]#+2                                    | http handler time | 
lb-1      | http.post Histogram [p50=51.00379328554417, p99=157.98498737125925, max=2518]#13291 μs    𝚫 [p50=+1.999887346619019, p99=-76.01007477227262, max=+0]#+6364 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
[Klb-1 exited with code 143
[Kapi_0-1 exited with code 143
[Kapi_1-1 exited with code 143
[Kworker-1 exited with code 143
log truncated at line 1000
