
 Network joao-xavier_default  Creating
 Network joao-xavier_default  Created
 Volume "joao-xavier_uds"  Creating
 Volume "joao-xavier_uds"  Created
 Container joao-xavier-worker-1  Creating
 Container joao-xavier-worker-1  Created
 Container joao-xavier-api_0-1  Creating
 Container joao-xavier-api_1-1  Creating
 Container joao-xavier-api_0-1  Created
 Container joao-xavier-api_1-1  Created
 Container joao-xavier-lb-1  Creating
 Container joao-xavier-lb-1  Created
Attaching to api_0-1, api_1-1, lb-1, worker-1
worker-1  | 2025-08-09T01:17:15.481031Z  INFO ThreadId(01) src/worker/mod.rs:25: starting worker
worker-1  | 2025-08-09T01:17:15.481079Z  INFO ThreadId(01) src/worker/mod.rs:37: starting payment_req_consumer
worker-1  | 2025-08-09T01:17:15.486081Z  INFO ThreadId(01) src/worker/mod.rs:72: listening on /var/run/worker.socket
api_1-1   | 2025-08-09T01:17:15.718297Z  INFO ThreadId(01) src/api/mod.rs:20: starting API
api_1-1   | 2025-08-09T01:17:15.718405Z  INFO ThreadId(01) src/api/mod.rs:27: binded to unix socket on /var/run/api1.sock
api_0-1   | 2025-08-09T01:17:15.748898Z  INFO ThreadId(01) src/api/mod.rs:20: starting API
api_0-1   | 2025-08-09T01:17:15.749032Z  INFO ThreadId(01) src/api/mod.rs:27: binded to unix socket on /var/run/api0.sock
lb-1      | 2025-08-09T01:17:15.981791Z  INFO ThreadId(01) src/lb.rs:40: starting lb on port 9999
lb-1      | 2025-08-09T01:17:15.981845Z  INFO ThreadId(01) src/lb.rs:44: api instances ["/var/run/api0.sock", "/var/run/api1.sock"]
lb-1      | 2025-08-09T01:17:15.981850Z  INFO ThreadId(01) src/lb.rs:48: allocating 1024 512B buffers
worker-1  | 2025-08-09T01:17:24.481801Z  INFO ThreadId(03) src/worker/mod.rs:116: db purged
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                         Units 𝚫 Delta                                                             | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=1124.9569175772417, p99=3445.760873340123, max=8431]#195 ns    𝚫 [p50=+1124.9569175772417, p99=+3445.760873340123, max=+8431]#+195 | db insert time              | 
worker-1  | db.select  Histogram [p50=3296.115793718678, p99=3296.115793718678, max=7681]#2    ns    𝚫 [p50=+3296.115793718678, p99=+3296.115793718678, max=+7681]#+2    | db query time               | 
worker-1  | pp_http    Histogram [p50=780.0047560754432, p99=4757.606683636352, max=5026]#195  μs    𝚫 [p50=+780.0047560754432, p99=+4757.606683636352, max=+5026]#+195  | payment processor http time | 
worker-1  | uds.handle Histogram [p50=9.999149133010329, p99=124.00228725846084, max=3464]#198 μs    𝚫 [p50=+9.999149133010329, p99=+124.00228725846084, max=+3464]#+198 | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   30    N/A   𝚫 1.9999825560188143/s | N/A         | 
api_1-1   | http.req  Counter   108   N/A   𝚫 7.199937201667732/s  | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   31    N/A   𝚫 2.0666491912188825/s | N/A         | 
api_0-1   | http.req  Counter   107   N/A   𝚫 7.133273014852271/s  | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                       Units 𝚫 Delta                                                           | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=4081.827250739883, p99=4081.827250739883, max=4265]#2  μs    𝚫 [p50=+4081.827250739883, p99=+4081.827250739883, max=+4265]#+2  | http handler time | 
lb-1      | http.post Histogram [p50=43.99605661931581, p99=81.99842253400263, max=102]#228 μs    𝚫 [p50=+43.99605661931581, p99=+81.99842253400263, max=+102]#+228 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                           Units 𝚫 Delta                                                             | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=1014.0424204834038, p99=2010.824307774938, max=13156]#705  ns    𝚫 [p50=-110.9144970938379, p99=-1434.936565565185, max=+4725]#+510  | db insert time              | 
worker-1  | db.select  Histogram [p50=4084.277081974371, p99=5473.64493553393, max=7681]#4       ns    𝚫 [p50=+788.1612882556929, p99=+2177.529141815252, max=+0]#+2       | db query time               | 
worker-1  | pp_http    Histogram [p50=805.0464819488903, p99=101549.33651703087, max=102636]#725 μs    𝚫 [p50=+25.04172587344715, p99=+96791.72983339452, max=+97610]#+530 | payment processor http time | 
worker-1  | uds.handle Histogram [p50=9.000678850493848, p99=29.997078882470035, max=3765]#2125  μs    𝚫 [p50=-0.9984702825164806, p99=-94.0052083759908, max=+301]#+1927  | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units 𝚫 Delta               | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   99    N/A   𝚫 4.599969846890989/s | N/A         | 
api_1-1   | http.req  Counter   1091  N/A   𝚫 65.53290376078033/s | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units 𝚫 Delta               | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   99    N/A   𝚫 4.533307841938897/s | N/A         | 
api_0-1   | http.req  Counter   1086  N/A   𝚫 65.26629966556148/s | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                        Units 𝚫 Delta                                                              | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=4081.827250739883, p99=4264.58445116113, max=4301]#4    μs    𝚫 [p50=+0, p99=+182.7572004212475, max=+36]#+2                       | http handler time | 
lb-1      | http.post Histogram [p50=46.00269619758199, p99=96.99893608515958, max=301]#2223 μs    𝚫 [p50=+2.0066395782661814, p99=+15.000513551156956, max=+199]#+1995 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                             Units 𝚫 Delta                                                                 | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=1014.0424204834038, p99=2010.824307774938, max=13156]#705    ns    𝚫 [p50=+0, p99=+0, max=+0]#+0                                           | db insert time              | 
worker-1  | db.select  Histogram [p50=4084.277081974371, p99=5473.64493553393, max=7681]#5         ns    𝚫 [p50=+0, p99=+0, max=+0]#+1                                           | db query time               | 
worker-1  | pp_http    Histogram [p50=2852.3543544506315, p99=101569.64841552402, max=2001435]#911 μs    𝚫 [p50=+2047.3078725017413, p99=+20.311898493149783, max=+1898799]#+186 | payment processor http time | 
worker-1  | uds.handle Histogram [p50=8.000467695685316, p99=38.99759615628473, max=3765]#6109     μs    𝚫 [p50=-1.0002111548085324, p99=+9.000517273814694, max=+0]#+3984       | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   167   N/A   𝚫 4.533302214631391/s  | N/A         | 
api_1-1   | http.req  Counter   3101  N/A   𝚫 133.99908016778082/s | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   168   N/A   𝚫 4.599971656201314/s  | N/A         | 
api_0-1   | http.req  Counter   3093  N/A   𝚫 133.79917556515994/s | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                         Units 𝚫 Delta                                                             | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=4081.827250739883, p99=4264.58445116113, max=4301]#5     μs    𝚫 [p50=+0, p99=+0, max=+0]#+1                                       | http handler time | 
lb-1      | http.post Histogram [p50=48.00475209104674, p99=144.99510911190902, max=826]#6275 μs    𝚫 [p50=+2.0020558934647497, p99=+47.99617302674943, max=+525]#+4052 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                             Units 𝚫 Delta                                                               | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=566.9663849310199, p99=1967.856228426673, max=24237]#4992    ns    𝚫 [p50=-447.0760355523839, p99=-42.968079348265064, max=+11081]#+4287 | db insert time              | 
worker-1  | db.select  Histogram [p50=5156.947035008041, p99=5865.834430882613, max=7681]#7        ns    𝚫 [p50=+1072.66995303367, p99=+392.1894953486826, max=+0]#+2          | db query time               | 
worker-1  | pp_http    Histogram [p50=2853.495524414992, p99=101366.71212195563, max=2002029]#5202 μs    𝚫 [p50=+1.1411699643604152, p99=-202.93629356838937, max=+594]#+4291  | payment processor http time | 
worker-1  | uds.handle Histogram [p50=8.000467695685316, p99=74.00258383967807, max=3765]#12150    μs    𝚫 [p50=+0, p99=+35.00498768339334, max=+0]#+6041                      | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.019 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   236   N/A   𝚫 4.599984334293351/s  | N/A         | 
api_1-1   | http.req  Counter   6142  N/A   𝚫 202.73264290704464/s | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units 𝚫 Delta                | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   237   N/A   𝚫 4.599977310458583/s  | N/A         | 
api_0-1   | http.req  Counter   6126  N/A   𝚫 202.19900264667947/s | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                            Units 𝚫 Delta                                                             | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=3978.658664993441, p99=4264.58445116113, max=4301]#7        μs    𝚫 [p50=-103.16858574644175, p99=+0, max=+0]#+2                      | http handler time | 
lb-1      | http.post Histogram [p50=53.000429019893595, p99=194.00811974820846, max=3844]#12383 μs    𝚫 [p50=+4.995676928846855, p99=+49.01301063629944, max=+3018]#+6108 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
[Klb-1 exited with code 143
[Kapi_1-1 exited with code 143
[Kworker-1 exited with code 143
log truncated at line 1000
