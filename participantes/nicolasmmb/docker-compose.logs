
 api-1 Pulling 
 api-2 Pulling 
 9824c27679d3 Already exists 
 4f4fb700ef54 Already exists 
 9824c27679d3 Already exists 
 f762531feebf Pulling fs layer 
 6d4cb5dbfd4e Pulling fs layer 
 4f4fb700ef54 Already exists 
 f762531feebf Pulling fs layer 
 6d4cb5dbfd4e Pulling fs layer 
 6d4cb5dbfd4e Downloading [>                                                  ]   35.7kB/3.474MB
 6d4cb5dbfd4e Downloading [>                                                  ]   35.7kB/3.474MB
 6d4cb5dbfd4e Verifying Checksum 
 6d4cb5dbfd4e Download complete 
 6d4cb5dbfd4e Verifying Checksum 
 6d4cb5dbfd4e Download complete 
 f762531feebf Downloading [>                                                  ]  24.65kB/2.416MB
 f762531feebf Downloading [>                                                  ]  24.65kB/2.416MB
 f762531feebf Verifying Checksum 
 f762531feebf Download complete 
 f762531feebf Extracting [>                                                  ]  32.77kB/2.416MB
 f762531feebf Download complete 
 f762531feebf Extracting [>                                                  ]  32.77kB/2.416MB
 f762531feebf Extracting [==================================================>]  2.416MB/2.416MB
 f762531feebf Extracting [==================================================>]  2.416MB/2.416MB
 f762531feebf Pull complete 
 f762531feebf Pull complete 
 6d4cb5dbfd4e Extracting [>                                                  ]  65.54kB/3.474MB
 6d4cb5dbfd4e Extracting [>                                                  ]  65.54kB/3.474MB
 6d4cb5dbfd4e Extracting [==================================================>]  3.474MB/3.474MB
 6d4cb5dbfd4e Extracting [==================================================>]  3.474MB/3.474MB
 6d4cb5dbfd4e Pull complete 
 6d4cb5dbfd4e Pull complete 
 api-1 Pulled 
 api-2 Pulled 
 Network nicolasmmb_backend  Creating
 Network nicolasmmb_backend  Created
 Container mem-db  Creating
 Container mem-db  Created
 Container api-go-1  Creating
 Container api-go-2  Creating
 Container api-go-1  Created
 Container api-go-2  Created
 Container lb  Creating
 Container lb  Created
Attaching to api-go-1, api-go-2, lb, mem-db
mem-db  | 1:M 14 Aug 2025 12:07:47.920 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
mem-db  | 1:M 14 Aug 2025 12:07:47.920 * oO0OoO0OoO0Oo Valkey is starting oO0OoO0OoO0Oo
mem-db  | 1:M 14 Aug 2025 12:07:47.920 * Valkey version=8.1.3, bits=64, commit=00000000, modified=0, pid=1, just started
mem-db  | 1:M 14 Aug 2025 12:07:47.920 * Configuration loaded
mem-db  | 1:M 14 Aug 2025 12:07:47.921 * monotonic clock: POSIX clock_gettime
mem-db  | 1:M 14 Aug 2025 12:07:47.923 * Running mode=standalone, port=6379.
mem-db  | 1:M 14 Aug 2025 12:07:47.923 * Server initialized
mem-db  | 1:M 14 Aug 2025 12:07:47.925 * Ready to accept connections tcp
api-go-2  | 2025/08/14 12:07:53 Aviso: N√£o foi poss√≠vel carregar o arquivo .env. Usando vari√°veis de ambiente do sistema.
api-go-2  | Env: ---------------------------------------------------------------------------------------------
api-go-2  | Env: SERVER_ADDR                   : 0.0.0.0
api-go-2  | Env: SERVER_PORT                   : 8080
api-go-2  | Env: REDIS_ADDR                    : mem-db:6379
api-go-2  | Env: PAYMENT_PROCESSOR_URL_DEFAULT : http://payment-processor-default:8080/payments
api-go-2  | Env: PAYMENT_PROCESSOR_URL_FALLBACK: http://payment-processor-fallback:8080/payments
api-go-2  | Env: HEALTH_URL_DEFAULT            : http://payment-processor-default:8080/payments/service-health
api-go-2  | Env: HEALTH_URL_FALLBACK           : http://payment-processor-fallback:8080/payments/service-health
api-go-2  | Env: WORKER_POOL                   : 15
api-go-2  | Env: PAYMENT_CHAN_SIZE             : 10000
api-go-2  | Env: ---------------------------------------------------------------------------------------------
api-go-2  | 2025/08/14 12:07:53 ‚öôÔ∏è  Iniciando conex√£o com o Redis...
api-go-2  | 2025/08/14 12:07:53 ‚úÖ Cliente Redis conectado e pronto para uso!
api-go-2  | 2025/08/14 12:07:53 Servidor iniciado em 0.0.0.0:8080
api-go-2  | 2025/08/14 12:07:53 üöÄ Servidor HTTP escutando em: 0.0.0.0:8080
api-go-1  | 2025/08/14 12:07:53 Aviso: N√£o foi poss√≠vel carregar o arquivo .env. Usando vari√°veis de ambiente do sistema.
api-go-1  | Env: ---------------------------------------------------------------------------------------------
api-go-1  | Env: SERVER_ADDR                   : 0.0.0.0
api-go-1  | Env: SERVER_PORT                   : 8080
api-go-1  | Env: REDIS_ADDR                    : mem-db:6379
api-go-1  | Env: PAYMENT_PROCESSOR_URL_DEFAULT : http://payment-processor-default:8080/payments
api-go-1  | Env: PAYMENT_PROCESSOR_URL_FALLBACK: http://payment-processor-fallback:8080/payments
api-go-1  | Env: HEALTH_URL_DEFAULT            : http://payment-processor-default:8080/payments/service-health
api-go-1  | Env: HEALTH_URL_FALLBACK           : http://payment-processor-fallback:8080/payments/service-health
api-go-1  | Env: WORKER_POOL                   : 15
api-go-1  | Env: PAYMENT_CHAN_SIZE             : 10000
api-go-1  | Env: ---------------------------------------------------------------------------------------------
api-go-1  | 2025/08/14 12:07:53 ‚öôÔ∏è  Iniciando conex√£o com o Redis...
api-go-1  | 2025/08/14 12:07:53 ‚úÖ Cliente Redis conectado e pronto para uso!
api-go-1  | 2025/08/14 12:07:53 Servidor iniciado em 0.0.0.0:8080
api-go-1  | 2025/08/14 12:07:53 üöÄ Servidor HTTP escutando em: 0.0.0.0:8080
lb        | [NOTICE]   (1) : haproxy version is 2.8.15-a9aef56
lb        | [WARNING]  (1) : config : missing timeouts for frontend 'http_front'.
lb        |    | While not properly invalid, you will certainly encounter various problems
lb        |    | with such a configuration. To fix this, please ensure that all following
lb        |    | timeouts are set to a non-zero value: 'client', 'connect', 'server'.
lb        | [WARNING]  (1) : config : missing timeouts for backend 'http_back'.
lb        |    | While not properly invalid, you will certainly encounter various problems
lb        |    | with such a configuration. To fix this, please ensure that all following
lb        |    | timeouts are set to a non-zero value: 'client', 'connect', 'server'.
lb        | [NOTICE]   (1) : New worker (8) forked
lb        | [NOTICE]   (1) : Loading success.
lb        | [ALERT]    (8) : sendmsg()/writev() failed in logger #1: No such file or directory (errno=2)
mem-db    | 1:M 14 Aug 2025 12:08:48.022 * 10000 changes in 60 seconds. Saving...
mem-db    | 1:M 14 Aug 2025 12:08:48.022 * Background saving started by pid 81
mem-db    | 81:C 14 Aug 2025 12:08:48.043 * DB saved on disk
mem-db    | 81:C 14 Aug 2025 12:08:48.044 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
mem-db    | 1:M 14 Aug 2025 12:08:48.123 * Background saving terminated with success
lb        | [NOTICE]   (1) : haproxy version is 2.8.15-a9aef56
lb        | [WARNING]  (1) : Exiting Master process...
lb        | [WARNING]  (8) : Proxy http_front stopped (cumulated conns: FE: 553, BE: 0).
lb        | [WARNING]  (8) : Proxy http_back stopped (cumulated conns: FE: 0, BE: 16706).
lb        | [WARNING]  (1) : Current worker (8) exited with code 0 (Exit)
lb        | [WARNING]  (1) : All workers exited. Exiting... (0)
[Klb exited with code 0
api-go-1  | 2025/08/14 12:09:03 üîå Desligando o servidor...
api-go-1  | 2025/08/14 12:09:03 ‚úÖ Servidor desligado com sucesso.
api-go-2  | 2025/08/14 12:09:03 üîå Desligando o servidor...
api-go-2  | 2025/08/14 12:09:03 ‚úÖ Servidor desligado com sucesso.
[Kapi-go-2 exited with code 0
[Kapi-go-1 exited with code 0
mem-db    | 1:signal-handler (1755173343) Received SIGTERM scheduling shutdown...
mem-db    | 1:M 14 Aug 2025 12:09:03.711 * User requested shutdown...
mem-db    | 1:M 14 Aug 2025 12:09:03.711 * Saving the final RDB snapshot before exiting.
mem-db    | 1:M 14 Aug 2025 12:09:03.733 * DB saved on disk
mem-db    | 1:M 14 Aug 2025 12:09:03.733 # Valkey is now ready to exit, bye bye...
log truncated at line 1000
