
 api2 Pulling 
 api1 Pulling 
 22feca96579e Already exists 
 4ed7786ba8bd Already exists 
 83a6e84a4e4a Already exists 
 cc1f6c2d7a8a Already exists 
 3fe8ccff17fa Already exists 
 c706d7a76cdb Pulling fs layer 
 74ae969c4cce Pulling fs layer 
 ae9c404460c0 Pulling fs layer 
 6deda18cdd6b Pulling fs layer 
 af6ada8033b5 Pulling fs layer 
 6deda18cdd6b Waiting 
 af6ada8033b5 Waiting 
 22feca96579e Already exists 
 4ed7786ba8bd Already exists 
 83a6e84a4e4a Already exists 
 cc1f6c2d7a8a Already exists 
 3fe8ccff17fa Already exists 
 c706d7a76cdb Pulling fs layer 
 74ae969c4cce Pulling fs layer 
 ae9c404460c0 Pulling fs layer 
 6deda18cdd6b Pulling fs layer 
 af6ada8033b5 Pulling fs layer 
 af6ada8033b5 Waiting 
 6deda18cdd6b Waiting 
 ae9c404460c0 Downloading [>                                                  ]  13.25kB/1.198MB
 ae9c404460c0 Downloading [>                                                  ]  13.25kB/1.198MB
 c706d7a76cdb Downloading [>                                                  ]  2.302kB/124.9kB
 c706d7a76cdb Downloading [>                                                  ]  2.302kB/124.9kB
 ae9c404460c0 Verifying Checksum 
 ae9c404460c0 Download complete 
 ae9c404460c0 Verifying Checksum 
 ae9c404460c0 Download complete 
 c706d7a76cdb Verifying Checksum 
 c706d7a76cdb Download complete 
 c706d7a76cdb Downloading [==================================================>]  124.9kB/124.9kB
 c706d7a76cdb Verifying Checksum 
 c706d7a76cdb Download complete 
 c706d7a76cdb Extracting [=============>                                     ]  32.77kB/124.9kB
 c706d7a76cdb Extracting [=============>                                     ]  32.77kB/124.9kB
 c706d7a76cdb Extracting [==================================================>]  124.9kB/124.9kB
 c706d7a76cdb Extracting [==================================================>]  124.9kB/124.9kB
 c706d7a76cdb Pull complete 
 c706d7a76cdb Pull complete 
 6deda18cdd6b Verifying Checksum 
 6deda18cdd6b Download complete 
 6deda18cdd6b Downloading [==================================================>]     605B/605B
 6deda18cdd6b Verifying Checksum 
 6deda18cdd6b Download complete 
 af6ada8033b5 Downloading [==================================================>]     217B/217B
 af6ada8033b5 Verifying Checksum 
 af6ada8033b5 Download complete 
 af6ada8033b5 Download complete 
 74ae969c4cce Downloading [>                                                  ]  458.8kB/45.52MB
 74ae969c4cce Downloading [>                                                  ]  458.8kB/45.52MB
 74ae969c4cce Downloading [=>                                                 ]  1.376MB/45.52MB
 74ae969c4cce Downloading [=>                                                 ]  1.376MB/45.52MB
 74ae969c4cce Downloading [===>                                               ]  2.753MB/45.52MB
 74ae969c4cce Downloading [===>                                               ]  2.753MB/45.52MB
 74ae969c4cce Downloading [=====>                                             ]  5.063MB/45.52MB
 74ae969c4cce Downloading [=====>                                             ]  5.063MB/45.52MB
 74ae969c4cce Downloading [==========>                                        ]  9.683MB/45.52MB
 74ae969c4cce Downloading [==========>                                        ]  9.683MB/45.52MB
 74ae969c4cce Downloading [================>                                  ]  15.25MB/45.52MB
 74ae969c4cce Downloading [================>                                  ]  15.25MB/45.52MB
 74ae969c4cce Downloading [========================>                          ]  22.63MB/45.52MB
 74ae969c4cce Downloading [========================>                          ]  22.63MB/45.52MB
 74ae969c4cce Downloading [================================>                  ]   29.6MB/45.52MB
 74ae969c4cce Downloading [================================>                  ]   29.6MB/45.52MB
 74ae969c4cce Downloading [======================================>            ]  35.16MB/45.52MB
 74ae969c4cce Downloading [======================================>            ]  35.16MB/45.52MB
 74ae969c4cce Downloading [==============================================>    ]  42.56MB/45.52MB
 74ae969c4cce Downloading [==============================================>    ]  42.56MB/45.52MB
 74ae969c4cce Download complete 
 74ae969c4cce Download complete 
 74ae969c4cce Extracting [>                                                  ]  458.8kB/45.52MB
 74ae969c4cce Extracting [>                                                  ]  458.8kB/45.52MB
 74ae969c4cce Extracting [======>                                            ]  5.964MB/45.52MB
 74ae969c4cce Extracting [======>                                            ]  5.964MB/45.52MB
 74ae969c4cce Extracting [============>                                      ]  11.47MB/45.52MB
 74ae969c4cce Extracting [============>                                      ]  11.47MB/45.52MB
 74ae969c4cce Extracting [=================>                                 ]   15.6MB/45.52MB
 74ae969c4cce Extracting [=================>                                 ]   15.6MB/45.52MB
 74ae969c4cce Extracting [=======================>                           ]  21.56MB/45.52MB
 74ae969c4cce Extracting [=======================>                           ]  21.56MB/45.52MB
 74ae969c4cce Extracting [==============================>                    ]  27.53MB/45.52MB
 74ae969c4cce Extracting [==============================>                    ]  27.53MB/45.52MB
 74ae969c4cce Extracting [==================================>                ]  31.65MB/45.52MB
 74ae969c4cce Extracting [==================================>                ]  31.65MB/45.52MB
 74ae969c4cce Extracting [===========================================>       ]  39.45MB/45.52MB
 74ae969c4cce Extracting [===========================================>       ]  39.45MB/45.52MB
 74ae969c4cce Extracting [==================================================>]  45.52MB/45.52MB
 74ae969c4cce Extracting [==================================================>]  45.52MB/45.52MB
 74ae969c4cce Pull complete 
 74ae969c4cce Pull complete 
 ae9c404460c0 Extracting [=>                                                 ]  32.77kB/1.198MB
 ae9c404460c0 Extracting [=>                                                 ]  32.77kB/1.198MB
 ae9c404460c0 Extracting [==================================================>]  1.198MB/1.198MB
 ae9c404460c0 Extracting [==================================================>]  1.198MB/1.198MB
 ae9c404460c0 Extracting [==================================================>]  1.198MB/1.198MB
 ae9c404460c0 Extracting [==================================================>]  1.198MB/1.198MB
 ae9c404460c0 Pull complete 
 ae9c404460c0 Pull complete 
 6deda18cdd6b Extracting [==================================================>]     605B/605B
 6deda18cdd6b Extracting [==================================================>]     605B/605B
 6deda18cdd6b Extracting [==================================================>]     605B/605B
 6deda18cdd6b Extracting [==================================================>]     605B/605B
 6deda18cdd6b Pull complete 
 6deda18cdd6b Pull complete 
 af6ada8033b5 Extracting [==================================================>]     217B/217B
 af6ada8033b5 Extracting [==================================================>]     217B/217B
 af6ada8033b5 Extracting [==================================================>]     217B/217B
 af6ada8033b5 Extracting [==================================================>]     217B/217B
 af6ada8033b5 Pull complete 
 af6ada8033b5 Pull complete 
 api2 Pulled 
 api1 Pulled 
 Network jjeanjacques10_backend  Creating
 Network jjeanjacques10_backend  Created
 Container redis-rinha  Creating
 Container redis-rinha  Created
 Container api2  Creating
 Container api1  Creating
 Container api1  Created
 Container api2  Created
 Container jjeanjacques10-nginx-1  Creating
 Container jjeanjacques10-nginx-1  Created
Attaching to api1, api2, nginx-1, redis-rinha
redis-rinha  | 1:C 09 Aug 2025 14:04:19.616 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
redis-rinha  | 1:C 09 Aug 2025 14:04:19.616 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis-rinha  | 1:C 09 Aug 2025 14:04:19.616 * Redis version=7.2.10, bits=64, commit=00000000, modified=0, pid=1, just started
redis-rinha  | 1:C 09 Aug 2025 14:04:19.616 * Configuration loaded
redis-rinha  | 1:M 09 Aug 2025 14:04:19.617 * monotonic clock: POSIX clock_gettime
redis-rinha  | 1:M 09 Aug 2025 14:04:19.618 * Running mode=standalone, port=6379.
redis-rinha  | 1:M 09 Aug 2025 14:04:19.619 * Server initialized
redis-rinha  | 1:M 09 Aug 2025 14:04:19.620 * Ready to accept connections tcp
nginx-1      | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1      | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1      | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1      | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1      | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1      | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1      | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1      | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1      | /docker-entrypoint.sh: Configuration complete; ready for start up
api2         | 2025-08-09T14:04:47.923Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] .a.o.r.PaymentProcessorService$Companion : [285beb12-0a5a-403b-9592-2a18697c7e20] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-09T14:04:47.923Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] c.j.r.d.s.PaymentService$Companion       : [285beb12-0a5a-403b-9592-2a18697c7e20] Payment processor is unavailable
api2         | 2025-08-09T14:04:47.926Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] .a.o.r.PaymentProcessorService$Companion : [de135bbd-d2ea-49dd-9a78-2f141c017507] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 2025-08-09T14:04:47.926Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] .a.o.r.PaymentProcessorService$Companion : [67ec098c-de9e-45d3-8dc2-9d381e0c124d] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 2025-08-09T14:04:47.926Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] c.j.r.d.s.PaymentService$Companion       : [de135bbd-d2ea-49dd-9a78-2f141c017507] Payment processor is unavailable
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-09T14:04:47.926Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] c.j.r.d.s.PaymentService$Companion       : [67ec098c-de9e-45d3-8dc2-9d381e0c124d] Payment processor is unavailable
api2         | 2025-08-09T14:04:47.929Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] .a.o.r.PaymentProcessorService$Companion : [ccbd4e55-9948-446e-a3da-9fb1b25cd791] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-09T14:04:47.929Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] c.j.r.d.s.PaymentService$Companion       : [ccbd4e55-9948-446e-a3da-9fb1b25cd791] Payment processor is unavailable
api1         | 2025-08-09T14:04:47.944Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] .a.o.r.PaymentProcessorService$Companion : [c960a0e2-8524-4e96-98e1-226effc237db] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-09T14:04:47.944Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] c.j.r.d.s.PaymentService$Companion       : [c960a0e2-8524-4e96-98e1-226effc237db] Payment processor is unavailable
api1         | 2025-08-09T14:04:47.956Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] .a.o.r.PaymentProcessorService$Companion : [f8f40a52-df2b-4165-889f-a325ac04386a] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-09T14:04:47.957Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] c.j.r.d.s.PaymentService$Companion       : [f8f40a52-df2b-4165-889f-a325ac04386a] Payment processor is unavailable
api2         | 2025-08-09T14:04:47.963Z ERROR 1 --- [rinhabackend-2] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : [106b588d-08a4-44fe-99fb-caa1a7da9fae] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api1         | 2025-08-09T14:04:47.963Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : [933539ef-1b42-49e8-80d4-69ef105a1f4b] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | Original Stack Trace:
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-09T14:04:47.963Z ERROR 1 --- [rinhabackend-2] [atcher-worker-3] c.j.r.d.s.PaymentService$Companion       : [106b588d-08a4-44fe-99fb-caa1a7da9fae] Payment processor is unavailable
api1         | 2025-08-09T14:04:47.963Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] c.j.r.d.s.PaymentService$Companion       : [933539ef-1b42-49e8-80d4-69ef105a1f4b] Payment processor is unavailable
api1         | 2025-08-09T14:04:47.972Z ERROR 1 --- [rinhabackend-1] [atcher-worker-7] .a.o.r.PaymentProcessorService$Companion : [4adf2218-4909-4aca-8681-77081bef2c7d] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-09T14:04:47.972Z ERROR 1 --- [rinhabackend-1] [atcher-worker-7] c.j.r.d.s.PaymentService$Companion       : [4adf2218-4909-4aca-8681-77081bef2c7d] Payment processor is unavailable
api2         | 2025-08-09T14:04:47.972Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] .a.o.r.PaymentProcessorService$Companion : [c5062971-d4c6-4d57-a2c4-b9394aeca4f3] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-09T14:04:47.973Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] c.j.r.d.s.PaymentService$Companion       : [c5062971-d4c6-4d57-a2c4-b9394aeca4f3] Payment processor is unavailable
api2         | 2025-08-09T14:04:47.981Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] .a.o.r.PaymentProcessorService$Companion : [d5c5e07d-981f-49ac-96b3-7dea69502550] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-09T14:04:47.981Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] c.j.r.d.s.PaymentService$Companion       : [d5c5e07d-981f-49ac-96b3-7dea69502550] Payment processor is unavailable
api1         | 2025-08-09T14:04:47.981Z ERROR 1 --- [rinhabackend-1] [atcher-worker-7] .a.o.r.PaymentProcessorService$Companion : [756063b0-4aed-4354-9842-9ada386adf48] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 2025-08-09T14:04:47.981Z ERROR 1 --- [rinhabackend-2] [atcher-worker-4] .a.o.r.PaymentProcessorService$Companion : [628fe503-eeb8-465a-8b16-d0eeae4ae0c2] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 
api1         | 2025-08-09T14:04:47.981Z ERROR 1 --- [rinhabackend-1] [atcher-worker-7] c.j.r.d.s.PaymentService$Companion       : [756063b0-4aed-4354-9842-9ada386adf48] Payment processor is unavailable
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-09T14:04:47.982Z ERROR 1 --- [rinhabackend-2] [atcher-worker-4] c.j.r.d.s.PaymentService$Companion       : [628fe503-eeb8-465a-8b16-d0eeae4ae0c2] Payment processor is unavailable
api1         | 2025-08-09T14:04:47.995Z ERROR 1 --- [rinhabackend-1] [atcher-worker-7] .a.o.r.PaymentProcessorService$Companion : [905f54b1-9659-4c06-90cf-771f655f8a67] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-09T14:04:47.996Z ERROR 1 --- [rinhabackend-1] [atcher-worker-7] c.j.r.d.s.PaymentService$Companion       : [905f54b1-9659-4c06-90cf-771f655f8a67] Payment processor is unavailable
api2         | 2025-08-09T14:04:48.003Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] .a.o.r.PaymentProcessorService$Companion : [dee4c11a-17f9-48ca-bead-ff36ee6a7a60] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
log truncated at line 1000
