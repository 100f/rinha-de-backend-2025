
time="2025-08-17T13:30:02Z" level=warning msg="/home/ubuntu/rinha-de-backend-2025/participantes/marcelo-dias/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 app2 Pulling 
 app1 Pulling 
 b71466b94f26 Already exists 
 1d18869a3ae9 Already exists 
 093f20a4b257 Already exists 
 cd9f588ed820 Already exists 
 7daa5752c01d Pulling fs layer 
 4f4fb700ef54 Pulling fs layer 
 31070ce7095c Pulling fs layer 
 b71466b94f26 Already exists 
 1d18869a3ae9 Already exists 
 093f20a4b257 Already exists 
 cd9f588ed820 Already exists 
 4f4fb700ef54 Downloading [==================================================>]      32B/32B
 4f4fb700ef54 Verifying Checksum 
 4f4fb700ef54 Download complete 
 7daa5752c01d Downloading [==============>                                    ]  16.38kB/57.66kB
 7daa5752c01d Downloading [==================================================>]  57.66kB/57.66kB
 7daa5752c01d Verifying Checksum 
 7daa5752c01d Download complete 
 7daa5752c01d Extracting [============================>                      ]  32.77kB/57.66kB
 7daa5752c01d Extracting [==================================================>]  57.66kB/57.66kB
 7daa5752c01d Pulling fs layer 
 4f4fb700ef54 Pulling fs layer 
 31070ce7095c Pulling fs layer 
 7daa5752c01d Extracting [==================================================>]  57.66kB/57.66kB
 4f4fb700ef54 Download complete 
 31070ce7095c Download complete 
 31070ce7095c Downloading [==================================================>]     146B/146B
 31070ce7095c Verifying Checksum 
 31070ce7095c Download complete 
 7daa5752c01d Pull complete 
 7daa5752c01d Pull complete 
 4f4fb700ef54 Extracting [==================================================>]      32B/32B
 4f4fb700ef54 Extracting [==================================================>]      32B/32B
 4f4fb700ef54 Extracting [==================================================>]      32B/32B
 4f4fb700ef54 Extracting [==================================================>]      32B/32B
 4f4fb700ef54 Pull complete 
 4f4fb700ef54 Pull complete 
 31070ce7095c Extracting [==================================================>]     146B/146B
 31070ce7095c Extracting [==================================================>]     146B/146B
 31070ce7095c Extracting [==================================================>]     146B/146B
 31070ce7095c Extracting [==================================================>]     146B/146B
 31070ce7095c Pull complete 
 31070ce7095c Pull complete 
 app1 Pulled 
 app2 Pulled 
 Network marcelo-dias_backend  Creating
 Network marcelo-dias_backend  Created
 Volume "marcelo-dias_sockets"  Creating
 Volume "marcelo-dias_sockets"  Created
 Container marcelo-dias-app2-1  Creating
 Container marcelo-dias-app1-1  Creating
 Container marcelo-dias-app1-1  Created
 Container marcelo-dias-app2-1  Created
 Container marcelo-dias-haproxy-1  Creating
 Container marcelo-dias-haproxy-1  Created
Attaching to app1-1, app2-1, haproxy-1
app2-1  | Starting Payment Service...
app1-1  | Starting Payment Service...
app1-1  | Initializing PaymentService v1.0...
app2-1  | Initializing PaymentService v1.0...
app2-1  | WORKER_COUNT=1
app2-1  | INTER_INTERVAL=500
app2-1  | EMPTY_INTERVAL=100
app2-1  | FALLBACK_POOL_INTERVAL_MS=1000
app2-1  | FALLBACK_ENABLED=1
app2-1  | Configurations read
app2-1  | Threads started
app2-1  | Initializing the paths...
app2-1  | CONCURRENCY=1
app1-1  | WORKER_COUNT=1
app1-1  | INTER_INTERVAL=500
app1-1  | EMPTY_INTERVAL=100
app1-1  | FALLBACK_POOL_INTERVAL_MS=1000
app1-1  | FALLBACK_ENABLED=1
app1-1  | Configurations read
app1-1  | Threads started
app1-1  | Initializing the paths...
app1-1  | CONCURRENCY=1
haproxy-1  | [NOTICE]   (1) : Initializing new worker (8)
haproxy-1  | [NOTICE]   (1) : Loading success.
app2-1     | Starting fallback at:2025-08-17 13:30:12.737
app1-1     | Starting fallback at:2025-08-17 13:30:12.836
app2-1     | Starting fallback at:2025-08-17 13:30:13.743
app1-1     | Starting fallback at:2025-08-17 13:30:13.944
app2-1     | Starting fallback at:2025-08-17 13:30:14.757
app1-1     | Starting fallback at:2025-08-17 13:30:14.956
app2-1     | Starting fallback at:2025-08-17 13:30:15.771
app1-1     | Starting fallback at:2025-08-17 13:30:15.976
app2-1     | Starting fallback at:2025-08-17 13:30:16.791
app1-1     | Starting fallback at:2025-08-17 13:30:16.996
app2-1     | Starting fallback at:2025-08-17 13:30:17.817
app1-1     | Starting fallback at:2025-08-17 13:30:18.023
app2-1     | Starting fallback at:2025-08-17 13:30:18.847
app1-1     | Starting fallback at:2025-08-17 13:30:19.053
app2-1     | Starting fallback at:2025-08-17 13:30:19.882
app1-1     | Starting fallback at:2025-08-17 13:30:20.090
app2-1     | Starting fallback at:2025-08-17 13:30:20.922
app1-1     | Starting fallback at:2025-08-17 13:30:21.130
app2-1     | Starting fallback at:2025-08-17 13:30:21.968
app1-1     | Starting fallback at:2025-08-17 13:30:22.177
app2-1     | Starting fallback at:2025-08-17 13:30:23.005
app2-1     | Using default - def: 100.046 fb: 0.620471
app2-1     | Fallback better - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 13:30:23.005
app1-1     | Starting fallback at:2025-08-17 13:30:23.208
app1-1     | Using default - def: 101.609 fb: 0.499777
app1-1     | Fallback better - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 13:30:23.209
app2-1     | Starting fallback at:2025-08-17 13:30:24.077
app1-1     | Starting fallback at:2025-08-17 13:30:24.291
app2-1     | Starting fallback at:2025-08-17 13:30:25.245
app1-1     | Starting fallback at:2025-08-17 13:30:25.458
app2-1     | Starting fallback at:2025-08-17 13:30:26.419
app1-1     | Starting fallback at:2025-08-17 13:30:26.632
app2-1     | Starting fallback at:2025-08-17 13:30:27.598
app1-1     | Starting fallback at:2025-08-17 13:30:27.814
app2-1     | Starting fallback at:2025-08-17 13:30:28.789
app1-1     | Starting fallback at:2025-08-17 13:30:29.006
app2-1     | Starting fallback at:2025-08-17 13:30:29.983
app1-1     | Starting fallback at:2025-08-17 13:30:30.201
app2-1     | Starting fallback at:2025-08-17 13:30:31.085
app1-1     | Starting fallback at:2025-08-17 13:30:31.303
app2-1     | Starting fallback at:2025-08-17 13:30:32.287
app1-1     | Starting fallback at:2025-08-17 13:30:32.405
app2-1     | Starting fallback at:2025-08-17 13:30:33.392
app1-1     | Starting fallback at:2025-08-17 13:30:33.506
app2-1     | Starting fallback at:2025-08-17 13:30:34.506
app1-1     | Starting fallback at:2025-08-17 13:30:34.618
app2-1     | Starting fallback at:2025-08-17 13:30:35.627
app1-1     | Starting fallback at:2025-08-17 13:30:35.739
app2-1     | Starting fallback at:2025-08-17 13:30:36.752
app1-1     | Starting fallback at:2025-08-17 13:30:36.866
app2-1     | Starting fallback at:2025-08-17 13:30:37.885
app1-1     | Starting fallback at:2025-08-17 13:30:38.001
app2-1     | Starting fallback at:2025-08-17 13:30:39.031
app1-1     | Starting fallback at:2025-08-17 13:30:39.148
app2-1     | Starting fallback at:2025-08-17 13:30:40.193
app1-1     | Starting fallback at:2025-08-17 13:30:40.308
app2-1     | Starting fallback at:2025-08-17 13:30:41.352
app1-1     | Starting fallback at:2025-08-17 13:30:41.468
app2-1     | Starting fallback at:2025-08-17 13:30:42.515
app1-1     | Starting fallback at:2025-08-17 13:30:42.632
app2-1     | Both is down, waiting to recover... 2025-08-17 13:30:43.648
app1-1     | Both is down, waiting to recover... 2025-08-17 13:30:43.648
app1-1     | Both is down, waiting to recover... 2025-08-17 13:30:46.149
app2-1     | Both is down, waiting to recover... 2025-08-17 13:30:46.149
app2-1     | Starting fallback at:2025-08-17 13:30:46.650
app1-1     | Starting fallback at:2025-08-17 13:30:46.650
app2-1     | Both is down, waiting to recover... 2025-08-17 13:30:47.651
app1-1     | Both is down, waiting to recover... 2025-08-17 13:30:47.651
app2-1     | Default recovered - switching to http://payment-processor-default:8080/payments at 2025-08-17 13:30:48.151
app1-1     | Default recovered - switching to http://payment-processor-default:8080/payments at 2025-08-17 13:30:48.151
app1-1     | Both is down, waiting to recover... 2025-08-17 13:30:48.651
app2-1     | Both is down, waiting to recover... 2025-08-17 13:30:48.651
app2-1     | Fallback recovered - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 13:30:49.151
app2-1     | Not using default - fb: 0.00081 - def: 0.00033
app2-1     | Main better - switching to http://payment-processor-default:8080/payments at 2025-08-17 13:30:49.151
app1-1     | Fallback recovered - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 13:30:49.151
app1-1     | Not using default - fb: 0.00069 - def: 0.0002
app1-1     | Main better - switching to http://payment-processor-default:8080/payments at 2025-08-17 13:30:49.151
app1-1     | Both is down, waiting to recover... 2025-08-17 13:30:49.153
app2-1     | Both is down, waiting to recover... 2025-08-17 13:30:49.153
app1-1     | Both is down, waiting to recover... 2025-08-17 13:30:51.653
app2-1     | Both is down, waiting to recover... 2025-08-17 13:30:51.653
app2-1     | Fallback recovered - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 13:30:53.154
app1-1     | Fallback recovered - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 13:30:53.154
app2-1     | Starting fallback at:2025-08-17 13:30:53.155
app1-1     | Starting fallback at:2025-08-17 13:30:53.155
app2-1     | Not using default - fb: 1000.55 - def: 20.1016
app2-1     | Main better - switching to http://payment-processor-default:8080/payments at 2025-08-17 13:30:53.175
app1-1     | Not using default - fb: 20.7085 - def: 20.6888
app1-1     | Main better - switching to http://payment-processor-default:8080/payments at 2025-08-17 13:30:53.176
app2-1     | Starting fallback at:2025-08-17 13:30:54.177
app1-1     | Starting fallback at:2025-08-17 13:30:54.197
app2-1     | Starting fallback at:2025-08-17 13:30:55.217
app1-1     | Starting fallback at:2025-08-17 13:30:55.238
app2-1     | Starting fallback at:2025-08-17 13:30:56.256
app1-1     | Starting fallback at:2025-08-17 13:30:56.278
app2-1     | Starting fallback at:2025-08-17 13:30:57.295
app1-1     | Starting fallback at:2025-08-17 13:30:57.316
app2-1     | Starting fallback at:2025-08-17 13:30:58.333
app1-1     | Starting fallback at:2025-08-17 13:30:58.354
app2-1     | Starting fallback at:2025-08-17 13:30:59.371
app1-1     | Starting fallback at:2025-08-17 13:30:59.393
app2-1     | Starting fallback at:2025-08-17 13:31:00.408
app1-1     | Starting fallback at:2025-08-17 13:31:00.434
app2-1     | Starting fallback at:2025-08-17 13:31:01.449
app1-1     | Starting fallback at:2025-08-17 13:31:01.471
app2-1     | Starting fallback at:2025-08-17 13:31:02.491
app1-1     | Starting fallback at:2025-08-17 13:31:02.512
app2-1     | Starting fallback at:2025-08-17 13:31:03.511
app1-1     | Starting fallback at:2025-08-17 13:31:03.534
app2-1     | Starting fallback at:2025-08-17 13:31:09.534
app1-1     | Starting fallback at:2025-08-17 13:31:09.536
haproxy-1  | [NOTICE]   (1) : haproxy version is 3.2.3-1844da7
haproxy-1  | [WARNING]  (1) : Exiting Master process...
haproxy-1  | [WARNING]  (8) : Proxy http_front stopped (cumulated conns: FE: 553, BE: 0).
haproxy-1  | [WARNING]  (8) : Proxy apps stopped (cumulated conns: FE: 0, BE: 16762).
haproxy-1  | [WARNING]  (1) : Current worker (8) exited with code 0 (Exit)
haproxy-1  | [WARNING]  (1) : All workers exited. Exiting... (0)
[Khaproxy-1 exited with code 0
log truncated at line 1000
