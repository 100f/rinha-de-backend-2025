
time="2025-08-17T14:17:49Z" level=warning msg="/home/ubuntu/rinha-de-backend-2025/participantes/marcelo-dias/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 app2 Pulling 
 app1 Pulling 
 b71466b94f26 Already exists 
 1d18869a3ae9 Already exists 
 093f20a4b257 Already exists 
 cd9f588ed820 Already exists 
 33c580745013 Pulling fs layer 
 4f4fb700ef54 Pulling fs layer 
 df05620e6eaa Pulling fs layer 
 b71466b94f26 Already exists 
 1d18869a3ae9 Already exists 
 093f20a4b257 Already exists 
 cd9f588ed820 Already exists 
 df05620e6eaa Downloading [==================================================>]     145B/145B
 df05620e6eaa Verifying Checksum 
 df05620e6eaa Download complete 
 4f4fb700ef54 Downloading [==================================================>]      32B/32B
 4f4fb700ef54 Verifying Checksum 
 4f4fb700ef54 Download complete 
 33c580745013 Pulling fs layer 
 4f4fb700ef54 Pulling fs layer 
 df05620e6eaa Pulling fs layer 
 df05620e6eaa Download complete 
 4f4fb700ef54 Download complete 
 33c580745013 Downloading [==============>                                    ]  16.38kB/57.63kB
 33c580745013 Downloading [==============>                                    ]  16.38kB/57.63kB
 33c580745013 Downloading [==================================================>]  57.63kB/57.63kB
 33c580745013 Verifying Checksum 
 33c580745013 Download complete 
 33c580745013 Downloading [==================================================>]  57.63kB/57.63kB
 33c580745013 Verifying Checksum 
 33c580745013 Download complete 
 33c580745013 Extracting [============================>                      ]  32.77kB/57.63kB
 33c580745013 Extracting [============================>                      ]  32.77kB/57.63kB
 33c580745013 Extracting [==================================================>]  57.63kB/57.63kB
 33c580745013 Extracting [==================================================>]  57.63kB/57.63kB
 33c580745013 Pull complete 
 33c580745013 Pull complete 
 4f4fb700ef54 Extracting [==================================================>]      32B/32B
 4f4fb700ef54 Extracting [==================================================>]      32B/32B
 4f4fb700ef54 Extracting [==================================================>]      32B/32B
 4f4fb700ef54 Extracting [==================================================>]      32B/32B
 4f4fb700ef54 Pull complete 
 4f4fb700ef54 Pull complete 
 df05620e6eaa Extracting [==================================================>]     145B/145B
 df05620e6eaa Extracting [==================================================>]     145B/145B
 df05620e6eaa Extracting [==================================================>]     145B/145B
 df05620e6eaa Extracting [==================================================>]     145B/145B
 df05620e6eaa Pull complete 
 df05620e6eaa Pull complete 
 app1 Pulled 
 app2 Pulled 
 Network marcelo-dias_backend  Creating
 Network marcelo-dias_backend  Created
 Volume "marcelo-dias_sockets"  Creating
 Volume "marcelo-dias_sockets"  Created
 Container marcelo-dias-app2-1  Creating
 Container marcelo-dias-app1-1  Creating
 Container marcelo-dias-app1-1  Created
 Container marcelo-dias-app2-1  Created
 Container marcelo-dias-haproxy-1  Creating
 Container marcelo-dias-haproxy-1  Created
Attaching to app1-1, app2-1, haproxy-1
app2-1  | Waiting cool down...
app1-1  | Waiting cool down...
haproxy-1  | [NOTICE]   (1) : Initializing new worker (8)
haproxy-1  | [NOTICE]   (1) : Loading success.
haproxy-1  | [WARNING]  (8) : Server apps/app1 is DOWN, reason: Socket error, info: "General socket error (No such file or directory)", check duration: 0ms. 1 active and 0 backup servers left. 0 sessions active, 0 requeued, 0 remaining in queue.
haproxy-1  | [WARNING]  (8) : Server apps/app2 is DOWN, reason: Socket error, info: "General socket error (No such file or directory)", check duration: 0ms. 0 active and 0 backup servers left. 0 sessions active, 0 requeued, 0 remaining in queue.
haproxy-1  | [ALERT]    (8) : backend 'apps' has no server available!
app1-1     | Starting Payment Service...
app2-1     | Starting Payment Service...
app2-1     | Initializing PaymentService v1.0...
app1-1     | Initializing PaymentService v1.0...
app2-1     | WORKER_COUNT=1
app2-1     | INTER_INTERVAL=500
app2-1     | EMPTY_INTERVAL=100
app2-1     | FALLBACK_POOL_INTERVAL_MS=1000
app2-1     | FALLBACK_ENABLED=1
app2-1     | Configurations read
app1-1     | WORKER_COUNT=1
app1-1     | INTER_INTERVAL=500
app1-1     | EMPTY_INTERVAL=100
app1-1     | FALLBACK_POOL_INTERVAL_MS=1000
app1-1     | FALLBACK_ENABLED=1
app1-1     | Configurations read
app1-1     | Threads started
app1-1     | Initializing the paths...
app1-1     | CONCURRENCY=1
app2-1     | Threads started
app2-1     | Initializing the paths...
app2-1     | CONCURRENCY=1
haproxy-1  | [WARNING]  (8) : Server apps/app2 is UP, reason: Layer4 check passed, check duration: 0ms. 1 active and 0 backup servers online. 0 sessions requeued, 0 total in queue.
haproxy-1  | [WARNING]  (8) : Server apps/app1 is UP, reason: Layer4 check passed, check duration: 0ms. 2 active and 0 backup servers online. 0 sessions requeued, 0 total in queue.
app1-1     | Starting fallback at:2025-08-17 14:18:15.119
app2-1     | Starting fallback at:2025-08-17 14:18:15.219
app1-1     | Starting fallback at:2025-08-17 14:18:16.126
app2-1     | Starting fallback at:2025-08-17 14:18:16.326
app1-1     | Starting fallback at:2025-08-17 14:18:17.136
app2-1     | Starting fallback at:2025-08-17 14:18:17.339
app1-1     | Starting fallback at:2025-08-17 14:18:18.151
app2-1     | Starting fallback at:2025-08-17 14:18:18.363
app1-1     | Starting fallback at:2025-08-17 14:18:19.172
app2-1     | Starting fallback at:2025-08-17 14:18:19.382
app1-1     | Starting fallback at:2025-08-17 14:18:20.197
app2-1     | Starting fallback at:2025-08-17 14:18:20.407
app1-1     | Starting fallback at:2025-08-17 14:18:21.227
app2-1     | Starting fallback at:2025-08-17 14:18:21.436
app1-1     | Starting fallback at:2025-08-17 14:18:22.263
app2-1     | Starting fallback at:2025-08-17 14:18:22.472
app1-1     | Starting fallback at:2025-08-17 14:18:23.304
app2-1     | Starting fallback at:2025-08-17 14:18:23.513
app1-1     | Starting fallback at:2025-08-17 14:18:24.351
app2-1     | Starting fallback at:2025-08-17 14:18:24.560
app1-1     | Starting fallback at:2025-08-17 14:18:25.388
app1-1     | Using default - def: 100.87 fb: 0.648872
app1-1     | Fallback better - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 14:18:25.389
app2-1     | Starting fallback at:2025-08-17 14:18:25.590
app2-1     | Using default - def: 100.825 fb: 0.649722
app2-1     | Fallback better - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 14:18:25.591
app1-1     | Starting fallback at:2025-08-17 14:18:26.461
app2-1     | Starting fallback at:2025-08-17 14:18:26.671
app1-1     | Starting fallback at:2025-08-17 14:18:27.628
app2-1     | Starting fallback at:2025-08-17 14:18:27.841
app1-1     | Starting fallback at:2025-08-17 14:18:28.804
app2-1     | Starting fallback at:2025-08-17 14:18:29.017
app1-1     | Starting fallback at:2025-08-17 14:18:29.984
app2-1     | Starting fallback at:2025-08-17 14:18:30.200
app1-1     | Starting fallback at:2025-08-17 14:18:31.175
app2-1     | Starting fallback at:2025-08-17 14:18:31.392
app1-1     | Starting fallback at:2025-08-17 14:18:32.370
app2-1     | Starting fallback at:2025-08-17 14:18:32.588
app1-1     | Starting fallback at:2025-08-17 14:18:33.572
app2-1     | Starting fallback at:2025-08-17 14:18:33.689
app1-1     | Starting fallback at:2025-08-17 14:18:34.673
app2-1     | Starting fallback at:2025-08-17 14:18:34.790
app1-1     | Starting fallback at:2025-08-17 14:18:35.778
app2-1     | Starting fallback at:2025-08-17 14:18:35.891
app1-1     | Starting fallback at:2025-08-17 14:18:36.889
app2-1     | Starting fallback at:2025-08-17 14:18:37.001
app1-1     | Starting fallback at:2025-08-17 14:18:38.012
app2-1     | Starting fallback at:2025-08-17 14:18:38.124
app1-1     | Starting fallback at:2025-08-17 14:18:39.142
app2-1     | Starting fallback at:2025-08-17 14:18:39.257
app1-1     | Starting fallback at:2025-08-17 14:18:40.282
app2-1     | Starting fallback at:2025-08-17 14:18:40.397
app1-1     | Starting fallback at:2025-08-17 14:18:41.423
app2-1     | Starting fallback at:2025-08-17 14:18:41.538
app1-1     | Starting fallback at:2025-08-17 14:18:42.583
app2-1     | Starting fallback at:2025-08-17 14:18:42.699
app1-1     | Starting fallback at:2025-08-17 14:18:43.736
app2-1     | Starting fallback at:2025-08-17 14:18:43.851
app1-1     | Starting fallback at:2025-08-17 14:18:44.895
app2-1     | Starting fallback at:2025-08-17 14:18:45.013
app2-1     | Both is down, waiting to recover... 2025-08-17 14:18:46.114
app1-1     | Both is down, waiting to recover... 2025-08-17 14:18:46.128
app2-1     | Both is down, waiting to recover... 2025-08-17 14:18:47.127
app2-1     | Starting fallback at:2025-08-17 14:18:47.628
app2-1     | Both is down, waiting to recover... 2025-08-17 14:18:48.628
app1-1     | Both is down, waiting to recover... 2025-08-17 14:18:48.628
app2-1     | Default recovered - switching to http://payment-processor-default:8080/payments at 2025-08-17 14:18:49.128
app1-1     | Starting fallback at:2025-08-17 14:18:49.129
app2-1     | Both is down, waiting to recover... 2025-08-17 14:18:49.627
app2-1     | Fallback recovered - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 14:18:50.128
app2-1     | Not using default - fb: 0.00073 - def: 0.00019
app2-1     | Main better - switching to http://payment-processor-default:8080/payments at 2025-08-17 14:18:50.128
app2-1     | Both is down, waiting to recover... 2025-08-17 14:18:50.128
app1-1     | Both is down, waiting to recover... 2025-08-17 14:18:50.129
app1-1     | Default recovered - switching to http://payment-processor-default:8080/payments at 2025-08-17 14:18:50.630
app1-1     | Both is down, waiting to recover... 2025-08-17 14:18:51.130
app1-1     | Fallback recovered - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 14:18:51.630
app1-1     | Not using default - fb: 0.00071 - def: 0.0003
app1-1     | Main better - switching to http://payment-processor-default:8080/payments at 2025-08-17 14:18:51.630
app1-1     | Both is down, waiting to recover... 2025-08-17 14:18:51.631
app2-1     | Both is down, waiting to recover... 2025-08-17 14:18:52.629
app2-1     | Both is down, waiting to recover... 2025-08-17 14:18:54.130
app1-1     | Both is down, waiting to recover... 2025-08-17 14:18:54.133
app2-1     | Starting fallback at:2025-08-17 14:18:54.631
app2-1     | Fallback recovered - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 14:18:55.631
app2-1     | Not using default - fb: 1000.77 - def: 0.00019
app2-1     | Main better - switching to http://payment-processor-default:8080/payments at 2025-08-17 14:18:55.631
app1-1     | Fallback recovered - switching to http://payment-processor-fallback:8080/payments at 2025-08-17 14:18:55.633
app1-1     | Starting fallback at:2025-08-17 14:18:55.634
app1-1     | Not using default - fb: 20.6519 - def: 20.7385
app1-1     | Main better - switching to http://payment-processor-default:8080/payments at 2025-08-17 14:18:55.655
app2-1     | Starting fallback at:2025-08-17 14:18:56.632
app1-1     | Starting fallback at:2025-08-17 14:18:56.673
app2-1     | Starting fallback at:2025-08-17 14:18:57.670
app1-1     | Starting fallback at:2025-08-17 14:18:57.712
app2-1     | Starting fallback at:2025-08-17 14:18:58.707
app1-1     | Starting fallback at:2025-08-17 14:18:58.747
app2-1     | Starting fallback at:2025-08-17 14:18:59.743
app1-1     | Starting fallback at:2025-08-17 14:18:59.782
app2-1     | Starting fallback at:2025-08-17 14:19:00.780
app1-1     | Starting fallback at:2025-08-17 14:19:00.823
app2-1     | Starting fallback at:2025-08-17 14:19:01.802
app1-1     | Starting fallback at:2025-08-17 14:19:01.844
app2-1     | Starting fallback at:2025-08-17 14:19:02.842
app1-1     | Starting fallback at:2025-08-17 14:19:02.884
app2-1     | Starting fallback at:2025-08-17 14:19:03.881
app1-1     | Starting fallback at:2025-08-17 14:19:03.923
app2-1     | Starting fallback at:2025-08-17 14:19:04.920
app1-1     | Starting fallback at:2025-08-17 14:19:04.963
app2-1     | Starting fallback at:2025-08-17 14:19:05.942
app1-1     | Starting fallback at:2025-08-17 14:19:05.984
app2-1     | Starting fallback at:2025-08-17 14:19:11.979
app1-1     | Starting fallback at:2025-08-17 14:19:12.024
haproxy-1  | [NOTICE]   (1) : haproxy version is 3.2.3-1844da7
haproxy-1  | [WARNING]  (1) : Exiting Master process...
haproxy-1  | [WARNING]  (8) : Proxy http_front stopped (cumulated conns: FE: 557, BE: 0).
haproxy-1  | [WARNING]  (8) : Proxy apps stopped (cumulated conns: FE: 0, BE: 16765).
haproxy-1  | [WARNING]  (1) : Current worker (8) exited with code 0 (Exit)
haproxy-1  | [WARNING]  (1) : All workers exited. Exiting... (0)
[Khaproxy-1 exited with code 0
log truncated at line 1000
