global
    log stdout format raw local0   # send to Docker logs

defaults
    mode http
    log global
    option dontlog-normal      # don’t log successful requests
    option dontlognull         # don’t log empty connections
    timeout connect 60s
    timeout client 60s
    timeout server 60s

frontend http_front
    no log
    bind *:9999
    default_backend apps

backend apps
    balance roundrobin
    option http-keep-alive   # keep backend connections open and reused
    http-reuse always
    server app1 app1:8080 check
    server app2 app2:8080 check
