
 Network rinha  Creating
 Network rinha  Created
 Container redis  Creating
 Container postgres  Creating
 Container postgres  Created
 Container redis  Created
 Container api01  Creating
 Container api02  Creating
 Container api01  Created
 Container api02  Created
 Container nginx  Creating
 Container nginx  Created
Attaching to api01, api02, nginx, postgres, redis
postgres  | The files belonging to this database system will be owned by user "postgres".
postgres  | This user must also own the server process.
postgres  | 
postgres  | The database cluster will be initialized with locale "en_US.utf8".
postgres  | The default database encoding has accordingly been set to "UTF8".
postgres  | The default text search configuration will be set to "english".
postgres  | 
postgres  | Data page checksums are disabled.
postgres  | 
postgres  | fixing permissions on existing directory /var/lib/postgresql/data ... ok
postgres  | creating subdirectories ... ok
postgres  | selecting dynamic shared memory implementation ... posix
redis     | Starting Redis Server
postgres  | selecting default "max_connections" ... 100
redis     | 1:C 27 Jul 2025 04:34:06.684 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
redis     | 1:C 27 Jul 2025 04:34:06.684 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis     | 1:C 27 Jul 2025 04:34:06.684 * Redis version=8.0.3, bits=64, commit=00000000, modified=1, pid=1, just started
redis     | 1:C 27 Jul 2025 04:34:06.684 * Configuration loaded
redis     | 1:M 27 Jul 2025 04:34:06.685 * monotonic clock: POSIX clock_gettime
postgres  | selecting default "shared_buffers" ... 128MB
redis     | 1:M 27 Jul 2025 04:34:06.705 * Running mode=standalone, port=6379.
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> RedisBloom version 8.0.1 (Git=unknown)
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> Registering configuration options: [
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> 	{ bf-error-rate       :      0.01 }
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> 	{ bf-initial-size     :       100 }
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> 	{ bf-expansion-factor :         2 }
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> 	{ cf-bucket-size      :         2 }
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> 	{ cf-initial-size     :      1024 }
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> 	{ cf-max-iterations   :        20 }
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> 	{ cf-expansion-factor :         1 }
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> 	{ cf-max-expansions   :        32 }
redis     | 1:M 27 Jul 2025 04:34:06.713 * <bf> ]
redis     | 1:M 27 Jul 2025 04:34:06.714 * Module 'bf' loaded from /usr/local/lib/redis/modules//redisbloom.so
redis     | 1:M 27 Jul 2025 04:34:06.766 * <search> Redis version found by RedisSearch : 8.0.3 - oss
redis     | 1:M 27 Jul 2025 04:34:06.766 * <search> RediSearch version 8.0.1 (Git=5688fcc)
redis     | 1:M 27 Jul 2025 04:34:06.766 * <search> Low level api version 1 initialized successfully
redis     | 1:M 27 Jul 2025 04:34:06.766 * <search> gc: ON, prefix min length: 2, min word length to stem: 4, prefix max expansions: 200, query timeout (ms): 500, timeout policy: return, cursor read size: 1000, cursor max idle (ms): 300000, max doctable size: 1000000, max number of search results:  1000000, 
redis     | 1:M 27 Jul 2025 04:34:06.766 * <search> Initialized thread pools!
redis     | 1:M 27 Jul 2025 04:34:06.766 * <search> Disabled workers threadpool of size 0
redis     | 1:M 27 Jul 2025 04:34:06.766 * <search> Subscribe to config changes
redis     | 1:M 27 Jul 2025 04:34:06.766 * <search> Enabled role change notification
redis     | 1:M 27 Jul 2025 04:34:06.767 * <search> Cluster configuration: AUTO partitions, type: 0, coordinator timeout: 0ms
redis     | 1:M 27 Jul 2025 04:34:06.767 * <search> Register write commands
redis     | 1:M 27 Jul 2025 04:34:06.767 * Module 'search' loaded from /usr/local/lib/redis/modules//redisearch.so
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> RedisTimeSeries version 80001, git_sha=577bfa8b5909e7ee572f0b651399be8303dc6641
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> Redis version found by RedisTimeSeries : 8.0.3 - oss
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> Registering configuration options: [
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> 	{ ts-compaction-policy   :              }
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> 	{ ts-num-threads         :            3 }
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> 	{ ts-retention-policy    :            0 }
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> 	{ ts-duplicate-policy    :        block }
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> 	{ ts-chunk-size-bytes    :         4096 }
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> 	{ ts-encoding            :   compressed }
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> 	{ ts-ignore-max-time-diff:            0 }
redis     | 1:M 27 Jul 2025 04:34:06.768 * <timeseries> 	{ ts-ignore-max-val-diff :     0.000000 }
redis     | 1:M 27 Jul 2025 04:34:06.769 * <timeseries> ]
redis     | 1:M 27 Jul 2025 04:34:06.769 * <timeseries> Detected redis oss
redis     | 1:M 27 Jul 2025 04:34:06.769 * Module 'timeseries' loaded from /usr/local/lib/redis/modules//redistimeseries.so
redis     | 1:M 27 Jul 2025 04:34:06.784 * <ReJSON> Created new data type 'ReJSON-RL'
redis     | 1:M 27 Jul 2025 04:34:06.786 * <ReJSON> version: 80001 git sha: unknown branch: unknown
redis     | 1:M 27 Jul 2025 04:34:06.786 * <ReJSON> Exported RedisJSON_V1 API
redis     | 1:M 27 Jul 2025 04:34:06.786 * <ReJSON> Exported RedisJSON_V2 API
redis     | 1:M 27 Jul 2025 04:34:06.786 * <ReJSON> Exported RedisJSON_V3 API
redis     | 1:M 27 Jul 2025 04:34:06.786 * <ReJSON> Exported RedisJSON_V4 API
redis     | 1:M 27 Jul 2025 04:34:06.786 * <ReJSON> Exported RedisJSON_V5 API
redis     | 1:M 27 Jul 2025 04:34:06.786 * <ReJSON> Enabled diskless replication
redis     | 1:M 27 Jul 2025 04:34:06.786 * <ReJSON> Initialized shared string cache, thread safe: false.
redis     | 1:M 27 Jul 2025 04:34:06.786 * Module 'ReJSON' loaded from /usr/local/lib/redis/modules//rejson.so
redis     | 1:M 27 Jul 2025 04:34:06.786 * <search> Acquired RedisJSON_V5 API
redis     | 1:M 27 Jul 2025 04:34:06.786 * Server initialized
redis     | 1:M 27 Jul 2025 04:34:06.786 * Ready to accept connections tcp
postgres  | selecting default time zone ... UTC
postgres  | creating configuration files ... ok
postgres  | running bootstrap script ... ok
postgres  | sh: locale: not found
postgres  | 2025-07-27 04:34:09.291 UTC [35] WARNING:  no usable system locales were found
postgres  | performing post-bootstrap initialization ... ok
postgres  | initdb: warning: enabling "trust" authentication for local connections
postgres  | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
postgres  | syncing data to disk ... ok
postgres  | 
postgres  | 
postgres  | Success. You can now start the database server using:
postgres  | 
postgres  |     pg_ctl -D /var/lib/postgresql/data -l logfile start
postgres  | 
postgres  | waiting for server to start....2025-07-27 04:34:12.503 UTC [53] LOG:  starting PostgreSQL 17.5 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
postgres  | 2025-07-27 04:34:12.508 UTC [53] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
postgres  | 2025-07-27 04:34:12.582 UTC [56] LOG:  database system was shut down at 2025-07-27 04:34:11 UTC
postgres  | 2025-07-27 04:34:12.599 UTC [53] LOG:  database system is ready to accept connections
postgres  |  done
postgres  | server started
postgres  | CREATE DATABASE
postgres  | 
postgres  | 
postgres  | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/script.sql
postgres  | psql:/docker-entrypoint-initdb.d/script.sql:1: NOTICE:  table "payments" does not exist, skipping
postgres  | DROP TABLE
postgres  | CREATE TYPE
postgres  | CREATE TABLE
postgres  | CREATE INDEX
postgres  | CREATE INDEX
postgres  | CREATE INDEX
postgres  | 
postgres  | 
postgres  | waiting for server to shut down....2025-07-27 04:34:13.329 UTC [53] LOG:  received fast shutdown request
postgres  | 2025-07-27 04:34:13.337 UTC [53] LOG:  aborting any active transactions
postgres  | 2025-07-27 04:34:13.385 UTC [53] LOG:  background worker "logical replication launcher" (PID 59) exited with exit code 1
postgres  | 2025-07-27 04:34:13.388 UTC [54] LOG:  shutting down
postgres  | 2025-07-27 04:34:13.396 UTC [54] LOG:  checkpoint starting: shutdown immediate
postgres  | 2025-07-27 04:34:13.671 UTC [54] LOG:  checkpoint complete: wrote 937 buffers (5.7%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.143 s, sync=0.106 s, total=0.283 s; sync files=309, longest=0.013 s, average=0.001 s; distance=4289 kB, estimate=4289 kB; lsn=0/191D740, redo lsn=0/191D740
postgres  | 2025-07-27 04:34:13.680 UTC [53] LOG:  database system is shut down
postgres  |  done
postgres  | server stopped
postgres  | 
postgres  | PostgreSQL init process complete; ready for start up.
postgres  | 
postgres  | 2025-07-27 04:34:13.792 UTC [1] LOG:  starting PostgreSQL 17.5 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
postgres  | 2025-07-27 04:34:13.792 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
postgres  | 2025-07-27 04:34:13.792 UTC [1] LOG:  listening on IPv6 address "::", port 5432
postgres  | 2025-07-27 04:34:13.806 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
postgres  | 2025-07-27 04:34:13.820 UTC [78] LOG:  database system was shut down at 2025-07-27 04:34:13 UTC
postgres  | 2025-07-27 04:34:13.831 UTC [1] LOG:  database system is ready to accept connections
api02     | 2025/07/27 04:34:14 Configuration initialized successfully
api01     | 2025/07/27 04:34:14 Configuration initialized successfully
api02     | Database connection established successfully
api02     | 2025/07/27 04:34:14 Default health status initialized for default: &{Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:34:14 Default health status initialized for fallback: &{Failing:false MinResponseTime:0}
api02     | asynq: pid=1 2025/07/27 04:34:14.086837 INFO: Starting processing
api02     | asynq: pid=1 2025/07/27 04:34:14.086854 INFO: Send signal TSTP to stop processing new tasks
api02     | asynq: pid=1 2025/07/27 04:34:14.086856 INFO: Send signal TERM or INT to terminate the process
api01     | Database connection established successfully
api01     | asynq: pid=1 2025/07/27 04:34:14.091314 INFO: Starting processing
api01     | asynq: pid=1 2025/07/27 04:34:14.091335 INFO: Send signal TSTP to stop processing new tasks
api01     | asynq: pid=1 2025/07/27 04:34:14.091339 INFO: Send signal TERM or INT to terminate the process
nginx     | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx     | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx     | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx     | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx     | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx     | /docker-entrypoint.sh: Configuration complete; ready for start up
api02     | 2025/07/27 04:34:24 Acting as leader. Ensuring health checks are running.
api01     | 2025/07/27 04:34:24 Not the leader.
api02     | 2025/07/27 04:34:29 Health check for default OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:34:29 Health check for fallback OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:34:34 Acting as leader. Ensuring health checks are running.
api01     | 2025/07/27 04:34:34 Not the leader.
api02     | 2025/07/27 04:34:34 Health check for default OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:34:34 Health check for fallback OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:34:39 Health check for default OK: {Failing:false MinResponseTime:100}
api02     | 2025/07/27 04:34:39 Health check for fallback OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:34:44 Acting as leader. Ensuring health checks are running.
api01     | 2025/07/27 04:34:44 Not the leader.
api02     | 2025/07/27 04:34:44 Health check for fallback OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:34:44 Health check for default OK: {Failing:false MinResponseTime:100}
api02     | 2025/07/27 04:34:49 Health check for default OK: {Failing:true MinResponseTime:100}
api02     | 2025/07/27 04:34:49 Health check for fallback OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:34:54 Acting as leader. Ensuring health checks are running.
api01     | 2025/07/27 04:34:54 Not the leader.
api02     | 2025/07/27 04:34:54 Health check for default OK: {Failing:true MinResponseTime:100}
api02     | 2025/07/27 04:34:54 Health check for fallback OK: {Failing:false MinResponseTime:0}
api01     | 2025/07/27 04:34:56 Setting fallback as failing
api01     | 2025/07/27 04:34:56 Setting fallback as failing
api02     | 2025/07/27 04:34:56 Setting fallback as failing
api02     | 2025/07/27 04:34:56 Setting fallback as failing
api01     | 2025/07/27 04:34:56 Setting fallback as failing
api01     | 2025/07/27 04:34:56 Setting fallback as failing
api01     | 2025/07/27 04:34:56 Setting fallback as failing
api02     | 2025/07/27 04:34:59 Health check for fallback OK: {Failing:true MinResponseTime:1000}
api02     | 2025/07/27 04:34:59 Health check for default OK: {Failing:true MinResponseTime:2000}
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api01     | 2025/07/27 04:35:00 Setting fallback as failing
api02     | 2025/07/27 04:35:00 Error retrieving health for fallback: i/o timeout
api02     | 2025/07/27 04:35:00 Setting fallback as failing
api01     | asynq: pid=1 2025/07/27 04:35:03.283413 WARN: Could not move task id=ca71b245-3ed1-417f-a5fc-9bcc4ae4a2b4 from "asynq:{default}:active" to "asynq:{default}:retry"; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:03.283593 WARN: Could not move task id=dc3930ec-8b76-4e69-80a2-4d10eea14856 from "asynq:{default}:active" to "asynq:{default}:retry"; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:03.283737 WARN: Could not move task id=2bca69a4-89dd-4fb6-8589-14d03352b144 from "asynq:{default}:active" to "asynq:{default}:retry"; Will retry syncing
api02     | 2025/07/27 04:35:04 Acting as leader. Ensuring health checks are running.
api01     | 2025/07/27 04:35:04 Not the leader.
api02     | 2025/07/27 04:35:04 Health check for default OK: {Failing:true MinResponseTime:2000}
api02     | 2025/07/27 04:35:04 Health check for fallback OK: {Failing:true MinResponseTime:1000}
api02     | 2025/07/27 04:35:09 Health check for default OK: {Failing:false MinResponseTime:20}
api02     | 2025/07/27 04:35:09 Health check for fallback OK: {Failing:false MinResponseTime:20}
api01     | asynq: pid=1 2025/07/27 04:35:13.084806 WARN: Could not remove task id=22334911-6f9f-4d14-b77d-612316e5fdad type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.084850 WARN: Could not remove task id=25ad1cc0-5e49-497f-9d4e-75d5b6f7a939 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.084713 WARN: Could not remove task id=e6be4ae5-bb25-40c2-9e2b-054b8d1a04c1 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.084963 WARN: Could not remove task id=b599cb23-edcc-4437-95e2-4c7cec4829f9 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.084987 WARN: Could not remove task id=8b8ba3da-db2a-4792-b679-11dd4b86d1e0 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.084994 WARN: Could not remove task id=8bc7f9d6-52a5-45e6-88cf-423c656acfe0 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.085000 WARN: Could not remove task id=d44c9c79-3fe8-4549-9b27-bc711deb56cc type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.149608 WARN: Could not remove task id=30a0e07d-ec8c-4bc2-804d-3b30c61aaea7 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.151490 WARN: Could not remove task id=460b9eec-4627-4238-ae0a-ff1004541793 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.157568 WARN: Could not remove task id=25c80d93-f2bf-4b16-88c7-356a05d61ba3 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.160822 WARN: Could not remove task id=a35fa0af-5487-4f04-8551-e0648bc2d15a type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.161815 WARN: Could not remove task id=a291aaaa-7993-41a3-9c4a-60109a0ba59a type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.161858 WARN: Could not remove task id=9729ff04-0242-41ad-80fc-fa6445bac77d type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.162900 WARN: Could not remove task id=9b8981b3-a6cb-43d2-8c63-df41e90e5e6e type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.162914 WARN: Could not remove task id=fe7ad544-69b9-40f2-ac70-849cf5e11c97 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.163174 WARN: Could not remove task id=a6db9b83-4443-45fe-b9e5-d0e30e9836fc type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.165412 WARN: Could not remove task id=6e6b294b-a22f-4714-a200-adf7067dd93a type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.166136 WARN: Could not remove task id=9c8ebd92-f029-4d9e-b292-cba256363c2e type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.166136 WARN: Could not remove task id=ad8cccfb-2e39-4ccb-baf8-7602dba073de type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.166499 WARN: Could not remove task id=b1a07545-43ce-4684-9c38-02a49fc9b9cf type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.168175 WARN: Could not remove task id=fa9547e2-75b0-4134-80be-7e4d000a0753 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.169173 WARN: Could not remove task id=82ab73bd-d28e-4978-80d0-bffa519fd37c type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.170247 WARN: Could not remove task id=311065da-8417-4992-a3ba-9aa5f3fcc4dc type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.170247 WARN: Could not remove task id=a21549b9-8b4c-49a7-9bf1-4fd0f43b95ff type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.171699 WARN: Could not remove task id=070b08ef-d52f-467d-92d8-33d288afc1dd type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.172278 WARN: Could not remove task id=006a3a21-5988-4796-bf67-3684006070e8 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.172307 WARN: Could not remove task id=decacb0d-d232-4d89-87b7-77318a466bd0 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.172745 WARN: Could not remove task id=6936ed6d-e059-41a0-96aa-162c8816f688 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.173423 WARN: Could not remove task id=e5161a72-d245-445e-8457-1bc7c8edc210 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.175642 WARN: Could not remove task id=ddf65f50-f6b3-4486-9e6b-76bd1d6c976d type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.175649 WARN: Could not remove task id=289285df-adab-4959-8c0f-2cfee828be67 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.175642 WARN: Could not remove task id=cebe1ff4-7704-40d1-8e70-8f7c98622401 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.185374 WARN: Could not remove task id=05a733ac-1f71-4a6d-a6df-c464a4ee5666 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.185413 WARN: Could not remove task id=7727d7dd-203b-443b-b4f2-ab0bbaac679d type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api02     | asynq: pid=1 2025/07/27 04:35:13.186047 WARN: Could not remove task id=b9c051fe-74aa-45c7-9686-efadab70e7d5 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api01     | asynq: pid=1 2025/07/27 04:35:13.186484 WARN: Could not remove task id=3a92b8c2-c061-4f39-ba3d-b9ef035da073 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND; Will retry syncing
api02     | 2025/07/27 04:35:14 Acting as leader. Ensuring health checks are running.
api01     | 2025/07/27 04:35:14 Not the leader.
api02     | 2025/07/27 04:35:14 Health check for default OK: {Failing:false MinResponseTime:20}
api02     | 2025/07/27 04:35:14 Health check for fallback OK: {Failing:false MinResponseTime:20}
api02     | 2025/07/27 04:35:19 Health check for default OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:35:19 Health check for fallback OK: {Failing:false MinResponseTime:5000}
api02     | 2025/07/27 04:35:24 Acting as leader. Ensuring health checks are running.
api01     | 2025/07/27 04:35:24 Not the leader.
api02     | 2025/07/27 04:35:24 Health check for default OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:35:24 Health check for fallback OK: {Failing:false MinResponseTime:5000}
[Knginx exited with code 0
api02     | asynq: pid=1 2025/07/27 04:35:27.987271 INFO: Stopping processor
api02     | asynq: pid=1 2025/07/27 04:35:27.987501 INFO: Processor stopped
api02     | asynq: pid=1 2025/07/27 04:35:27.987505 INFO: Starting graceful shutdown
api02     | asynq: pid=1 2025/07/27 04:35:27.987510 INFO: Waiting for all workers to finish...
api01     | asynq: pid=1 2025/07/27 04:35:27.996307 INFO: Stopping processor
api01     | asynq: pid=1 2025/07/27 04:35:27.997755 INFO: Processor stopped
api01     | asynq: pid=1 2025/07/27 04:35:27.997760 INFO: Starting graceful shutdown
api01     | asynq: pid=1 2025/07/27 04:35:27.997763 INFO: Waiting for all workers to finish...
api02     | asynq: pid=1 2025/07/27 04:35:27.998418 INFO: All workers have finished
api02     | asynq: pid=1 2025/07/27 04:35:27.998457 ERROR: Could not remove task id=e6be4ae5-bb25-40c2-9e2b-054b8d1a04c1 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api02     | asynq: pid=1 2025/07/27 04:35:27.998467 ERROR: Could not remove task id=b599cb23-edcc-4437-95e2-4c7cec4829f9 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api02     | asynq: pid=1 2025/07/27 04:35:27.998471 ERROR: Could not remove task id=8b8ba3da-db2a-4792-b679-11dd4b86d1e0 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api02     | asynq: pid=1 2025/07/27 04:35:27.998474 ERROR: Could not remove task id=8bc7f9d6-52a5-45e6-88cf-423c656acfe0 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api02     | asynq: pid=1 2025/07/27 04:35:27.998478 ERROR: Could not remove task id=d44c9c79-3fe8-4549-9b27-bc711deb56cc type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api02     | asynq: pid=1 2025/07/27 04:35:27.998482 ERROR: Could not remove task id=25c80d93-f2bf-4b16-88c7-356a05d61ba3 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api02     | asynq: pid=1 2025/07/27 04:35:27.998485 ERROR: Could not remove task id=a35fa0af-5487-4f04-8551-e0648bc2d15a type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api02     | asynq: pid=1 2025/07/27 04:35:27.998489 ERROR: Could not remove task id=a6db9b83-4443-45fe-b9e5-d0e30e9836fc type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api02     | asynq: pid=1 2025/07/27 04:35:27.998492 ERROR: Could not remove task id=6e6b294b-a22f-4714-a200-adf7067dd93a type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api02     | asynq: pid=1 2025/07/27 04:35:27.998495 ERROR: Could not remove task id=b1a07545-43ce-4684-9c38-02a49fc9b9cf type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api02     | asynq: pid=1 2025/07/27 04:35:27.998499 ERROR: Could not remove task id=82ab73bd-d28e-4978-80d0-bffa519fd37c type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api02     | asynq: pid=1 2025/07/27 04:35:27.998502 ERROR: Could not remove task id=311065da-8417-4992-a3ba-9aa5f3fcc4dc type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api02     | asynq: pid=1 2025/07/27 04:35:27.998505 ERROR: Could not remove task id=a21549b9-8b4c-49a7-9bf1-4fd0f43b95ff type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api02     | asynq: pid=1 2025/07/27 04:35:27.998508 ERROR: Could not remove task id=070b08ef-d52f-467d-92d8-33d288afc1dd type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api02     | asynq: pid=1 2025/07/27 04:35:27.998512 ERROR: Could not remove task id=6936ed6d-e059-41a0-96aa-162c8816f688 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api02     | asynq: pid=1 2025/07/27 04:35:27.998515 ERROR: Could not remove task id=05a733ac-1f71-4a6d-a6df-c464a4ee5666 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api02     | asynq: pid=1 2025/07/27 04:35:27.998518 ERROR: Could not remove task id=7727d7dd-203b-443b-b4f2-ab0bbaac679d type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api02     | asynq: pid=1 2025/07/27 04:35:27.998521 ERROR: Could not remove task id=b9c051fe-74aa-45c7-9686-efadab70e7d5 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api02     | asynq: pid=1 2025/07/27 04:35:27.999456 INFO: Exiting
api01     | asynq: pid=1 2025/07/27 04:35:28.024583 INFO: All workers have finished
api01     | asynq: pid=1 2025/07/27 04:35:28.024664 ERROR: Could not move task id=ca71b245-3ed1-417f-a5fc-9bcc4ae4a2b4 from "asynq:{default}:active" to "asynq:{default}:retry"
api01     | asynq: pid=1 2025/07/27 04:35:28.024675 ERROR: Could not move task id=dc3930ec-8b76-4e69-80a2-4d10eea14856 from "asynq:{default}:active" to "asynq:{default}:retry"
api01     | asynq: pid=1 2025/07/27 04:35:28.024711 ERROR: Could not move task id=2bca69a4-89dd-4fb6-8589-14d03352b144 from "asynq:{default}:active" to "asynq:{default}:retry"
api01     | asynq: pid=1 2025/07/27 04:35:28.024716 ERROR: Could not remove task id=22334911-6f9f-4d14-b77d-612316e5fdad type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api01     | asynq: pid=1 2025/07/27 04:35:28.024720 ERROR: Could not remove task id=25ad1cc0-5e49-497f-9d4e-75d5b6f7a939 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api01     | asynq: pid=1 2025/07/27 04:35:28.024724 ERROR: Could not remove task id=30a0e07d-ec8c-4bc2-804d-3b30c61aaea7 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024727 ERROR: Could not remove task id=460b9eec-4627-4238-ae0a-ff1004541793 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024730 ERROR: Could not remove task id=a291aaaa-7993-41a3-9c4a-60109a0ba59a type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024733 ERROR: Could not remove task id=9729ff04-0242-41ad-80fc-fa6445bac77d type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024737 ERROR: Could not remove task id=9b8981b3-a6cb-43d2-8c63-df41e90e5e6e type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024852 ERROR: Could not remove task id=fe7ad544-69b9-40f2-ac70-849cf5e11c97 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024858 ERROR: Could not remove task id=9c8ebd92-f029-4d9e-b292-cba256363c2e type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024862 ERROR: Could not remove task id=ad8cccfb-2e39-4ccb-baf8-7602dba073de type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024865 ERROR: Could not remove task id=fa9547e2-75b0-4134-80be-7e4d000a0753 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024868 ERROR: Could not remove task id=006a3a21-5988-4796-bf67-3684006070e8 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024871 ERROR: Could not remove task id=decacb0d-d232-4d89-87b7-77318a466bd0 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024875 ERROR: Could not remove task id=e5161a72-d245-445e-8457-1bc7c8edc210 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024878 ERROR: Could not remove task id=289285df-adab-4959-8c0f-2cfee828be67 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024881 ERROR: Could not remove task id=ddf65f50-f6b3-4486-9e6b-76bd1d6c976d type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024884 ERROR: Could not remove task id=cebe1ff4-7704-40d1-8e70-8f7c98622401 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: i/o timeout
api01     | asynq: pid=1 2025/07/27 04:35:28.024887 ERROR: Could not remove task id=3a92b8c2-c061-4f39-ba3d-b9ef035da073 type="payment:process" from "asynq:{default}:active" err: INTERNAL_ERROR: redis eval error: NOT FOUND
api01     | asynq: pid=1 2025/07/27 04:35:28.024955 INFO: Exiting
api02     | 2025/07/27 04:35:29 Health check for default OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:35:29 Health check for fallback OK: {Failing:false MinResponseTime:5000}
api02     | 2025/07/27 04:35:34 Acting as leader. Ensuring health checks are running.
api01     | 2025/07/27 04:35:34 Not the leader.
api02     | 2025/07/27 04:35:34 Health check for default OK: {Failing:false MinResponseTime:0}
api02     | 2025/07/27 04:35:34 Health check for fallback OK: {Failing:false MinResponseTime:5000}
[Kapi02 exited with code 137
[Kapi01 exited with code 137
redis     | 1:signal-handler (1753590938) Received SIGTERM scheduling shutdown...
redis     | 1:M 27 Jul 2025 04:35:38.708 * User requested shutdown...
redis     | 1:M 27 Jul 2025 04:35:38.708 # Redis is now ready to exit, bye bye...
postgres  | 2025-07-27 04:35:38.784 UTC [1] LOG:  received fast shutdown request
postgres  | 2025-07-27 04:35:38.881 UTC [1] LOG:  aborting any active transactions
postgres  | 2025-07-27 04:35:38.885 UTC [1] LOG:  background worker "logical replication launcher" (PID 81) exited with exit code 1
postgres  | 2025-07-27 04:35:38.885 UTC [76] LOG:  shutting down
postgres  | 2025-07-27 04:35:38.895 UTC [76] LOG:  checkpoint starting: shutdown immediate
[Kredis exited with code 0
postgres  | 2025-07-27 04:35:39.085 UTC [76] LOG:  checkpoint complete: wrote 377 buffers (2.3%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.040 s, sync=0.067 s, total=0.200 s; sync files=30, longest=0.052 s, average=0.003 s; distance=6417 kB, estimate=6417 kB; lsn=0/1F61BF8, redo lsn=0/1F61BF8
postgres  | 2025-07-27 04:35:39.093 UTC [1] LOG:  database system is shut down
[Kpostgres exited with code 0
log truncated at line 1000
